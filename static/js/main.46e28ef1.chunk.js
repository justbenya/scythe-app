(this["webpackJsonpscythe-point-calculator"]=this["webpackJsonpscythe-point-calculator"]||[]).push([[0],{318:function(e,t,n){},333:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(0),r=n.n(i),c=n(11),s=n.n(c),o=n(8),l=n(26),u=n(15),j=n(335),d=n(379),b=n(390),h=n(389),p=n(369),O=n(382),m=n(387),f=n(393),x=n(388),g=n(189),v=n.n(g),y=n(9),E=n(372),P=n(195),A=n(374),R=n(375),C=n(376),L=n(377),T=n(378),_=n(107),Y=Object(i.createContext)({players:{},dispatch:function(){return null},fetchPlayer:function(){},fetchPlayers:function(){},createPlayer:function(){},editPlayer:function(){},deletePlayer:function(){},clearData:function(){}}),B=Object(p.a)({table:{minWidth:320}}),F=function(){var e=Object(u.f)(),t=B(),n=r.a.useContext(Y),c=n.players,s=n.fetchPlayers,l=n.clearData,j=n.editPlayer;Object(i.useEffect)((function(){s()}),[]);var b=Object(y.a)(Object.values(c)).sort((function(e,t){return t.points-e.points})).map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{gameEndPosition:t+1})}));return c=Object(o.a)({},Object(_.a)(b,"id")),Object(a.jsxs)(Le,{title:"\u0418\u0442\u043e\u0433\u0438 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0438\u0433\u0440\u044b",children:[Object(a.jsx)(E.a,{component:P.a,children:Object(a.jsxs)(A.a,{className:t.table,size:"medium",children:[Object(a.jsx)(R.a,{children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(L.a,{children:"\u041c\u0435\u0441\u0442\u043e"}),Object(a.jsx)(L.a,{children:"\u0424\u0440\u0430\u043a\u0446\u0438\u044f"}),Object(a.jsx)(L.a,{align:"right",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c"}),Object(a.jsx)(L.a,{align:"right",children:"\u0417\u0432\u0435\u0437\u0434"}),Object(a.jsx)(L.a,{align:"right",children:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439"}),Object(a.jsx)(L.a,{align:"right",children:"\u0420\u0435\u0441\u0443\u0440\u0441\u043e\u0432"}),Object(a.jsx)(L.a,{align:"right",children:"\u0411\u043e\u043d\u0443\u0441\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439"}),Object(a.jsx)(L.a,{align:"right",children:"\u041c\u043e\u043d\u0435\u0442"}),Object(a.jsx)(L.a,{align:"right",children:"\u0412\u0441\u0435\u0433\u043e"})]})}),Object(a.jsx)(T.a,{children:Object.values(c).map((function(e){return Object(a.jsxs)(C.a,{children:[Object(a.jsx)(L.a,{align:"center",children:e.gameEndPosition}),Object(a.jsxs)(L.a,{component:"th",scope:"player",children:[e.name,Object(a.jsx)("br",{}),e.fraction,Object(a.jsx)("br",{}),e.mat]}),Object(a.jsx)(L.a,{align:"right",children:e.popularity}),Object(a.jsx)(L.a,{align:"right",children:e.stars}),Object(a.jsx)(L.a,{align:"right",children:e.territories}),Object(a.jsx)(L.a,{align:"right",children:e.resources}),Object(a.jsx)(L.a,{align:"right",children:e.buildingBonuses}),Object(a.jsx)(L.a,{align:"right",children:e.gold}),Object(a.jsx)(L.a,{align:"right",children:e.points})]},e.name)}))})]})}),Object(a.jsx)("br",{}),Object(a.jsx)(d.a,{variant:"contained",color:"secondary",onClick:function(){Object(y.a)(Object.values(c)).sort((function(e,t){return t.points-e.points})).forEach((function(e,t){return j(Object(o.a)(Object(o.a)({},e),{},{gameEndPosition:t+1}))})),l(),setTimeout((function(){e.push("/")}),100)},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"})]})},I=n(380),D=n(187),S=n.n(D),W=n(188),k=n.n(W),w=n(180),z=n(391),H=n(381),q=n(185),N=n.n(q),M=n(182),V=n.n(M),J=n(186),G=n.n(J),K=n(181),Q=n.n(K),U=n(183),X=n.n(U),Z=n(184),$=n.n(Z),ee=n(135),te=n(56),ne=n(192),ae=[{name:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041f\u043e\u043b\u044f\u043d\u0438\u044f",slug:"polania",characterPath:"".concat("/scythe-app","/assets/fractions/polania.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/polania.png")},{name:"\u0421\u0430\u043a\u0441\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u043c\u043f\u0435\u0440\u0438\u044f",slug:"saxony",characterPath:"".concat("/scythe-app","/assets/fractions/saxony.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/saxony.png")},{name:"\u041a\u0440\u044b\u043c\u0441\u043a\u043e\u0435 \u0445\u0430\u043d\u0441\u0442\u0432\u043e",slug:"crimean",characterPath:"".concat("/scythe-app","/assets/fractions/crimean.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/crimean.png")},{name:"\u0421\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u043e",slug:"nordic",characterPath:"".concat("/scythe-app","/assets/fractions/nordic.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/nordic.png")},{name:"\u0420\u0443\u0441\u0441\u0432\u0435\u0442\u0441\u043a\u0438\u0439 \u0441\u043e\u044e\u0437",slug:"rusvet",characterPath:"".concat("/scythe-app","/assets/fractions/rusvet.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/rusvet.png")}],ie=["\u041f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0439 (1)","\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 (2)","\u041f\u0430\u0442\u0440\u0438\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 (3)","\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 (4)","\u0424\u0435\u0440\u043c\u0435\u0440\u0441\u043a\u0438\u0439 (5)"],re=function(e){return Object(ne.a)(ae,"name")[e].slug},ce="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c",se=function(e){return"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e)},oe=te.b().shape({gold:te.a().required().min(0,ce).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0435\u0442\u044b"),popularity:te.a().required().min(0,ce).max(18,se(18)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u0443\u044e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c"),stars:te.a().required().min(0,ce).max(6,se(6)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u044b"),territories:te.a().required().min(0,ce).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439"),resources:te.a().required().min(0,ce).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432"),buildingBonuses:te.a().required().min(0,ce).max(9,se(9)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043c\u043e\u043d\u0435\u0442 \u0437\u0430 \u0431\u043e\u043d\u0443\u0441 \u0437\u0434\u0430\u043d\u0438\u0439")}),le=function(e){var t,n,r,c,s,l,u=e.player,b=e.editPlayer,h=Object(ee.useForm)({defaultValues:{gold:null===u||void 0===u?void 0:u.gold,popularity:null===u||void 0===u?void 0:u.popularity,stars:null===u||void 0===u?void 0:u.stars,territories:null===u||void 0===u?void 0:u.territories,resources:null===u||void 0===u?void 0:u.resources,buildingBonuses:null===u||void 0===u?void 0:u.buildingBonuses},mode:"onBlur",resolver:Object(w.yupResolver)(oe)}),p=h.register,O=h.handleSubmit,m=h.errors,f=h.reset;Object(i.useEffect)((function(){f(u)}),[f,u]);var x=function(e){e.target.select()};return Object(a.jsx)("form",{onSubmit:O((function(e){var t=function(e){var t=0;return e.popularity>=0&&e.popularity<=6?t=3*e.stars+2*e.territories+Math.floor(e.resources/2)+e.buildingBonuses+e.gold:e.popularity>=7&&e.popularity<=12?t=4*e.stars+3*e.territories+2*Math.floor(e.resources/2)+e.buildingBonuses+e.gold:e.popularity>=13&&e.popularity<=18&&(t=5*e.stars+4*e.territories+3*Math.floor(e.resources/2)+e.buildingBonuses+e.gold),t}(e);b(Object(o.a)(Object(o.a)(Object(o.a)({},u),e),{},{points:t}))})),autoComplete:"off",children:Object(a.jsxs)(I.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(z.a,{error:!!m.gold,helperText:null===m||void 0===m||null===(t=m.gold)||void 0===t?void 0:t.message,inputRef:p,id:"gold",name:"gold",fullWidth:!0,variant:"outlined",size:"small",label:"\u041c\u043e\u043d\u0435\u0442\u044b \u043d\u0430 \u0440\u0443\u043a\u0430\u0445",type:"number",onFocus:x,InputProps:{startAdornment:Object(a.jsx)(H.a,{position:"start",children:Object(a.jsx)(Q.a,{})})}})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(z.a,{error:!!m.popularity,helperText:null===m||void 0===m||null===(n=m.popularity)||void 0===n?void 0:n.message,inputRef:p,id:"popularity",name:"popularity",fullWidth:!0,variant:"outlined",size:"small",label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c",type:"number",onFocus:x,InputProps:{startAdornment:Object(a.jsx)(H.a,{position:"start",children:Object(a.jsx)(V.a,{})})}})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(z.a,{error:!!m.stars,helperText:null===m||void 0===m||null===(r=m.stars)||void 0===r?void 0:r.message,inputRef:p,id:"stars",name:"stars",fullWidth:!0,variant:"outlined",size:"small",label:"\u041a\u043e\u043b-\u0432\u043e \u0437\u0432\u0435\u0437\u0434",type:"number",onFocus:x,InputProps:{startAdornment:Object(a.jsx)(H.a,{position:"start",children:Object(a.jsx)(X.a,{})})}})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(z.a,{error:!!m.territories,helperText:null===m||void 0===m||null===(c=m.territories)||void 0===c?void 0:c.message,inputRef:p,id:"territories",name:"territories",fullWidth:!0,variant:"outlined",size:"small",label:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439 (\u0444\u0430\u0431\u0440\u0438\u043a\u0430 \u0434\u0430\u0435\u0442 +3)",type:"number",onFocus:x,InputProps:{startAdornment:Object(a.jsx)(H.a,{position:"start",children:Object(a.jsx)($.a,{})})}})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(z.a,{error:!!m.resources,helperText:null===m||void 0===m||null===(s=m.resources)||void 0===s?void 0:s.message,inputRef:p,id:"resources",name:"resources",fullWidth:!0,variant:"outlined",size:"small",label:"\u0412\u0441\u0435\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",type:"number",onFocus:x,InputProps:{startAdornment:Object(a.jsx)(H.a,{position:"start",children:Object(a.jsx)(N.a,{})})}})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(z.a,{error:!!m.buildingBonuses,helperText:null===m||void 0===m||null===(l=m.buildingBonuses)||void 0===l?void 0:l.message,inputRef:p,id:"buildingBonuses",name:"buildingBonuses",fullWidth:!0,variant:"outlined",size:"small",label:"\u0411\u043e\u043d\u0443\u0441\u044b \u0437\u0434\u0430\u043d\u0438\u0439",type:"number",onFocus:x,InputProps:{startAdornment:Object(a.jsx)(H.a,{position:"start",children:Object(a.jsx)(G.a,{})})}})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsxs)(I.a,{container:!0,alignItems:"center",justify:"space-between",spacing:2,children:[Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(d.a,{type:"submit",color:"primary",variant:"contained",children:"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsxs)(j.a,{variant:"h6",children:["\u041e\u0447\u043a\u043e\u0432: ",u.points]})})]})})]})})};var ue,je=function(e){var t=r.a.useContext(Y),n=t.players,c=t.fetchPlayers,s=t.editPlayer,o=function(e,t){return Object.values(e).find((function(e){return re(e.fraction)===t}))}(n,e.match.params.id);Object(i.useEffect)((function(){c()}),[]);var u=null,b=null;if(Object.values(n).length>0){var h=Object.values(n).sort((function(e,t){return parseInt(e.mat.slice(-2,-1))-parseInt(t.mat.slice(-2,-1))})),p=h.findIndex((function(e){return e.id===o.id}));u=p>=0&&Object.values(h)[p-1]?re(Object.values(h)[p-1].fraction):null,b=p>=0&&Object.values(h)[p+1]?re(Object.values(h)[p+1].fraction):null}return o?Object(a.jsx)(Le,{title:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0447\u043a\u043e\u0432",children:Object(a.jsxs)(I.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(I.a,{item:!0,children:Object(a.jsxs)(I.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(I.a,{item:!0,xs:8,sm:10,children:Object(a.jsxs)(j.a,{variant:"h5",children:["\u0418\u0433\u0440\u043e\u043a: ",o.name]})}),Object(a.jsx)(I.a,{item:!0,xs:2,sm:1,style:{textAlign:"end"},children:Object(a.jsx)(O.a,{disabled:!Boolean(u),component:l.b,to:"/score/".concat(u),color:"inherit",children:Object(a.jsx)(S.a,{})})}),Object(a.jsx)(I.a,{item:!0,xs:2,sm:1,style:{textAlign:"end"},children:Object(a.jsx)(O.a,{edge:"end",disabled:!Boolean(b),component:l.b,to:"/score/".concat(b),color:"inherit",children:Object(a.jsx)(k.a,{})})})]})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(le,{player:o,editPlayer:s})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(I.a,{container:!0,alignItems:"center",justify:"space-between",spacing:2,children:Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(d.a,{component:l.b,to:ye.result.path,type:"submit",color:"secondary",variant:"contained",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})})})})]})}):Object(a.jsx)("div",{children:"Loading"})},de=n(18),be=n(384),he=n(385),pe=n(392),Oe=n(386),me=n(383),fe=Object(p.a)({media:{objectPosition:"50% 25%"}}),xe=function(e){var t=e.name,n=void 0===t?"":t,i=e.characterPath,r=void 0===i?"":i,c=fe();return Object(a.jsx)(me.a,{component:"img",height:"140",className:c.media,image:r,alt:n,title:n})},ge=function(e){var t=e.name,n=e.iconPath;return Object(a.jsx)("img",{height:35,src:n,alt:t})},ve=function(e){var t=e.name,n=e.fraction,i=e.mat,c=e.id,s=r.a.useContext(Y),u=s.players,j=s.editPlayer,b=s.deletePlayer;return Object(a.jsxs)(be.a,{children:[Object(a.jsx)(xe,Object(o.a)({},ae.find((function(e){return e.name===n})))),Object(a.jsx)(he.a,{children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(a.jsxs)(I.a,{container:!0,spacing:2,direction:"column",children:[Object(a.jsx)(I.a,{item:!0,xs:12,children:Object(a.jsx)(z.a,{label:"\u0418\u043c\u044f",defaultValue:t,onChange:function(e){return function(e,t){var n=Object(o.a)(Object(o.a)({},u[t]),{},{name:e.target.value});j(n)}(e,c)},onFocus:function(e){e.target.select()},variant:"outlined",size:"medium",fullWidth:!0})}),Object(a.jsx)(I.a,{item:!0,xs:12,children:Object(a.jsxs)(I.a,{container:!0,justify:"space-between",children:[Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(z.a,{select:!0,SelectProps:{renderValue:function(e){var t=ae.find((function(t){return t.name===e}));return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t&&Object(a.jsx)(ge,Object(o.a)({},t))})}},label:"\u0424\u0440\u0430\u043a\u0446\u0438\u044f",value:n,onChange:function(e){return function(e,t){var n=e.target.value,a=u[t].fraction,i=Object.values(u).find((function(e){return e.fraction===n}));if(i){var r=Object(o.a)(Object(o.a)({},u[i.id]),{},{fraction:a});j(r)}var c=Object(o.a)(Object(o.a)({},u[t]),{},{fraction:n});j(c)}(e,c)},variant:"outlined",size:"small",children:ae.map((function(e){return Object(a.jsxs)(pe.a,{value:e.name,children:[Object(a.jsx)(ge,Object(o.a)({},e)),"\xa0\xa0\xa0",e.name]},e.name)}))})}),Object(a.jsx)(I.a,{item:!0,className:"mats-input",children:Object(a.jsx)(z.a,{select:!0,label:"\u041f\u043b\u0430\u043d\u0448\u0435\u0442",value:i,onChange:function(e){return function(e,t){var n=e.target.value,a=u[t].mat,i=Object.values(u).find((function(e){return e.mat===n}));if(i){var r=Object(o.a)(Object(o.a)({},u[i.id]),{},{mat:a});j(r)}var c=Object(o.a)(Object(o.a)({},u[t]),{},{mat:n});j(c)}(e,c)},variant:"outlined",size:"medium",fullWidth:!0,children:ie.map((function(e){return Object(a.jsx)(pe.a,{value:e,children:e},e)}))})})]})})]})})}),Object(a.jsxs)(Oe.a,{disableSpacing:!0,style:{paddingTop:0,display:"flex",justifyContent:"flex-end"},children:[Object(a.jsx)(d.a,{style:{marginRight:"auto"},component:l.b,to:"/score/".concat(re(n)),color:"primary",size:"medium",children:"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043e\u0447\u043a\u0438"}),Object(a.jsx)(d.a,{color:"secondary",size:"medium",onClick:function(){return function(e){b(e)}(c)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},ye={index:{path:"/",title:"\u041a\u0442\u043e \u0438\u0433\u0440\u0430\u0435\u0442?",exact:!0,component:function(){var e=r.a.useContext(Y),t=e.players,n=e.createPlayer,c=e.fetchPlayers,s=Object(u.f)();Object(i.useEffect)((function(){c()}),[]);return Object(a.jsx)(Le,{children:Object(a.jsxs)(I.a,{container:!0,direction:"column",spacing:4,children:[Object(a.jsx)(I.a,{item:!0,children:Object(a.jsxs)(I.a,{container:!0,direction:"column",spacing:1,children:[Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(d.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){n()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(d.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){var e,n=Object(de.a)(ie);try{var a=function(){var n=e.value,a=Object.values(t).find((function(e){return e.mat===n}));if(a)return s.push("/score/".concat(re(a.fraction))),"break"};for(n.s();!(e=n.n()).done;){if("break"===a())break}}catch(i){n.e(i)}finally{n.f()}},children:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0447\u043a\u043e\u0432"})})]})}),Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(I.a,{container:!0,direction:"column",spacing:2,children:Object.values(t).map((function(e){return Object(a.jsx)(I.a,{item:!0,children:Object(a.jsx)(ve,Object(o.a)({},e))},e.id)}))})})]})})}},score:{path:"/score/:id",title:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0447\u043a\u043e\u0432",exact:!0,component:je},result:{path:"/result",title:"\u0418\u0442\u043e\u0433\u0438 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0438\u0433\u0440\u044b",exact:!0,component:F}},Ee=Object(p.a)((function(e){return Object(f.a)({toolbar:{justifyContent:"space-between"},title:{marginLeft:"auto"}})})),Pe=function(e){var t=e.title,n=void 0===t?"Scythe Point Calculator":t,i=Ee(),r=Object(u.f)();return Object(a.jsx)(m.a,{position:"static",children:Object(a.jsxs)(x.a,{className:i.toolbar,children:[r.location.pathname!==ye.index.path&&Object(a.jsx)(O.a,{component:l.b,to:ye.index.path,edge:"start",color:"inherit","aria-label":"back",children:Object(a.jsx)(v.a,{})}),Object(a.jsx)(j.a,{variant:"h6",className:i.title,children:n})]})})},Ae=n(94),Re=(n(317),function(){return Object(a.jsx)(Ae.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0})}),Ce=Object(p.a)({fixed:{"@media (min-width: 600px)":{maxWidth:768},"@media (min-width: 960px)":{maxWidth:960},"@media (min-width: 1280px)":{maxWidth:1280}}}),Le=function(e){var t=e.title,n=Ce();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(h.a,{}),Object(a.jsx)(Pe,{title:t}),Object(a.jsx)(Re,{}),Object(a.jsx)(b.a,{fixed:!0,className:n.fixed,children:Object(a.jsx)("main",{style:{height:"90vh",paddingTop:30},children:e.children})})]})},Te=function(){return Object(a.jsxs)(Le,{children:[Object(a.jsx)(j.a,{variant:"h1",align:"center",children:"404?!"}),Object(a.jsx)(d.a,{component:l.b,to:ye.index.path,variant:"outlined",color:"primary",fullWidth:!0,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},_e=function(){return Object(a.jsx)(l.a,{basename:"/",children:Object(a.jsxs)(u.c,{children:[Object.values(ye).map((function(e){return Object(a.jsx)(u.a,Object(o.a)({},e),e.path)})),Object(a.jsx)(u.a,{component:Te})]})})},Ye=(n(318),n(28)),Be=n(139),Fe=n(193),Ie=n(25),De=n(191);function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.FETCH_PLAYERS:return Object(o.a)(Object(o.a)({},e),Object(_.a)(t.payload,"id"));case ue.FETCH_PLAYER:case ue.CREATE_PLAYER:case ue.EDIT_PLAYER:return Object(o.a)(Object(o.a)({},e),{},Object(Ie.a)({},t.payload.id,t.payload));case ue.DELETE_PLAYER:return Object(De.a)(e,t.payload);case ue.CLEAR_PLAYERS_DATA:return{};default:return e}}function We(e){for(var t=Object(y.a)(e),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),i=t[n];t[n]=t[a],t[a]=i}return t}!function(e){e[e.FETCH_PLAYER=0]="FETCH_PLAYER",e[e.CREATE_PLAYER=1]="CREATE_PLAYER",e[e.EDIT_PLAYER=2]="EDIT_PLAYER",e[e.FETCH_PLAYERS=3]="FETCH_PLAYERS",e[e.DELETE_PLAYER=4]="DELETE_PLAYER",e[e.CLEAR_PLAYERS_DATA=5]="CLEAR_PLAYERS_DATA"}(ue||(ue={}));var ke=function(e){var t=e.children,n=Object(i.useReducer)(Se,{}),r=Object(Ye.a)(n,2),c=r[0],s=r[1],o=Object(Be.useLocalStorage)("players"),l=Object(Ye.a)(o,1)[0];function u(e){s({type:ue.DELETE_PLAYER,payload:e})}return Object(i.useEffect)((function(){Object(Be.writeStorage)("players",c)}),[c]),Object(a.jsx)(Y.Provider,{value:{players:c,dispatch:s,fetchPlayer:function(e){l&&s({type:ue.FETCH_PLAYER,payload:l[e]})},fetchPlayers:function(){l&&s({type:ue.FETCH_PLAYERS,payload:l})},createPlayer:function(){if(Object.values(c).length>=5)Ae.b.error("\ud83d\udd25 \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432: 5",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});else{Ae.b.success("\u2714 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0438\u0433\u0440\u043e\u043a",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var e=Object.values(c).map((function(e){return e.fraction})),t=Object.values(c).map((function(e){return e.mat})),n=We(ae.map((function(e){return e.name}))).filter((function(t){return!e.includes(t)})),a=We(ie).filter((function(e){return!t.includes(e)})),i=n[0],r=a[0],o={id:Object(Fe.a)(),name:"Player "+(Object.values(c).length+1),fraction:i,mat:r,gold:0,popularity:0,stars:0,territories:0,resources:0,buildingBonuses:0,points:0};s({type:ue.CREATE_PLAYER,payload:o})}},editPlayer:function(e){s({type:ue.EDIT_PLAYER,payload:e})},deletePlayer:u,clearData:function(){Object.values(c).forEach((function(e){return u(e.id)}))}},children:t})};s.a.render(Object(a.jsx)(ke,{children:Object(a.jsx)(_e,{})}),document.getElementById("root"))}},[[333,1,2]]]);
//# sourceMappingURL=main.46e28ef1.chunk.js.map