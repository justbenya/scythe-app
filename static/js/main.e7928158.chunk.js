(this["webpackJsonpscythe-point-calculator"]=this["webpackJsonpscythe-point-calculator"]||[]).push([[0],{318:function(e,t,n){},333:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(0),r=n.n(i),c=n(11),s=n.n(c),l=n(8),o=n(15),j=n(28),d=Object(j.a)(),u=n(335),b=n(379),h=n(29),p=n(390),x=n(389),f=n(369),O=n(385),m=n(387),g=n(393),y=n(388),v=n(189),P=n.n(v),E=n(9),C=n(372),R=n(195),A=n(374),w=n(375),T=n(376),L=n(377),I=n(378),_=n(108),k=Object(i.createContext)({players:{},dispatch:function(){return null},fetchPlayer:function(){},fetchPlayers:function(){},createPlayer:function(){},editPlayer:function(){},deletePlayer:function(){},clearData:function(){}}),S=Object(f.a)({table:{minWidth:320}}),W=function(){var e=Object(o.f)(),t=S(),n=r.a.useContext(k),c=n.players,s=n.fetchPlayers,j=n.clearData,d=n.editPlayer;Object(i.useEffect)((function(){s()}),[]);var u=Object(E.a)(Object.values(c)).sort((function(e,t){return t.points-e.points})).map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{gameEndPosition:t+1})}));return c=Object(l.a)({},Object(_.a)(u,"id")),Object(a.jsxs)(We,{title:"\u0418\u0442\u043e\u0433\u0438 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0438\u0433\u0440\u044b",children:[Object(a.jsx)(C.a,{component:R.a,children:Object(a.jsxs)(A.a,{className:t.table,size:"medium",children:[Object(a.jsx)(w.a,{children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(L.a,{children:"\u041c\u0435\u0441\u0442\u043e"}),Object(a.jsx)(L.a,{children:"\u0424\u0440\u0430\u043a\u0446\u0438\u044f"}),Object(a.jsx)(L.a,{align:"right",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c"}),Object(a.jsx)(L.a,{align:"right",children:"\u0417\u0432\u0435\u0437\u0434"}),Object(a.jsx)(L.a,{align:"right",children:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439"}),Object(a.jsx)(L.a,{align:"right",children:"\u0420\u0435\u0441\u0443\u0440\u0441\u043e\u0432"}),Object(a.jsx)(L.a,{align:"right",children:"\u0411\u043e\u043d\u0443\u0441\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439"}),Object(a.jsx)(L.a,{align:"right",children:"\u041c\u043e\u043d\u0435\u0442"}),Object(a.jsx)(L.a,{align:"right",children:"\u0412\u0441\u0435\u0433\u043e"})]})}),Object(a.jsx)(I.a,{children:Object.values(c).map((function(e){return Object(a.jsxs)(T.a,{children:[Object(a.jsx)(L.a,{align:"center",children:e.gameEndPosition}),Object(a.jsxs)(L.a,{component:"th",scope:"player",children:[e.name,Object(a.jsx)("br",{}),e.fraction,Object(a.jsx)("br",{}),e.mat]}),Object(a.jsx)(L.a,{align:"right",children:e.popularity}),Object(a.jsx)(L.a,{align:"right",children:e.stars}),Object(a.jsx)(L.a,{align:"right",children:e.territories}),Object(a.jsx)(L.a,{align:"right",children:e.resources}),Object(a.jsx)(L.a,{align:"right",children:e.buildingBonuses}),Object(a.jsx)(L.a,{align:"right",children:e.gold}),Object(a.jsx)(L.a,{align:"right",children:e.points})]},e.name)}))})]})}),Object(a.jsx)("br",{}),Object(a.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){Object(E.a)(Object.values(c)).sort((function(e,t){return t.points-e.points})).forEach((function(e,t){return d(Object(l.a)(Object(l.a)({},e),{},{gameEndPosition:t+1}))})),j(),setTimeout((function(){e.push("/")}),100)},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"})]})},Y=n(380),B=n(381),F=n(382),z=n(383);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var H=i.createElement("path",{d:"m504.792969 132.21875-6.59375-14.191406-14.492188 6.597656c-16.117187 7.820312-28.667969 21.179688-36.855469 37.199219-8.480468-19.476563-19.234374-38.035157-30.910156-55.113281 25.222656-27.183594 25.136719-68.457032.605469-95.117188l-10.191406-11.09375-11.09375 10.492188c-12.085938 11.460937-19.675781 25.742187-23.058594 40.792968-21.105469-23.082031-38.070313-37.859375-39.9375-39.457031l-19.5 22.75c.425781.375 16.375 14.238281 36.542969 36.226563-15.546875 1.9375-30.476563 8.933593-42.792969 20.339843l-10.492187 10.195313 9.894531 10.792968c12.292969 13.492188 29.980469 20.386719 48.867187 20.386719 16.164063 0 28.3125-4.472656 36.835938-8.757812 9.285156 13.578125 17.84375 28.0625 24.917968 43.078125-13.777343-1.570313-27.867187.839844-41.367187 7.054687l-14.390625 6.59375 7.195312 14.09375c12.472657 22.945313 39.722657 33.6875 66.144532 35.25.046875.828125.238281 1.65625.269531 2.484375.648437 16.863282-2.589844 32.238282-9.117187 46.578125-7.179688-14.863281-20.453126-26.515625-40.203126-34.246093l-11.992187-4.792969-6.597656 10.792969c-8.183594 14.183593.617187 51.121093 19.519531 76.757812-13.6875 12.167969-25.972656 21.007812-37.527344 28.300781 2.554688-16.570312-.761718-33.882812-10.175781-48.996093l-7.496094-12.289063-12.589843 7.195313c-25.183594 14.292968-39.59375 53.171874-29.0625 86.800781-10.699219 6.289062-21.597657 13.859375-33.148438 24.03125-11.609375-10.226563-22.558594-17.8125-33.308594-24.121094 10.597656-35.414063-4.480468-72.847656-28.90625-86.710937l-12.59375-7.199219-7.492187 12.292969c-9.414063 15.113281-12.734375 32.421874-10.175781 48.992187-11.554688-7.292969-23.84375-16.128906-37.527344-28.296875 18.898437-25.640625 27.703125-62.578125 19.519531-76.761719l-6.597656-10.792969-11.992188 4.796876c-21.667969 8.480468-34.265625 21.5625-40.203125 34.242187-6.527344-14.339844-9.765625-29.710937-9.117187-46.578125.03125-.824219.222656-1.652344.269531-2.472656 26.722656-1.566406 53.785156-12.523438 66.140625-35.257813l7.195313-14.09375-14.390626-6.59375c-13.742187-6.328125-27.9375-8.890625-41.132812-7.566406 7.03125-14.835937 15.507812-29.144531 24.6875-42.566406 8.519531 4.285156 20.671875 8.757812 36.832031 8.757812 18.890625 0 36.578125-6.894531 48.871094-20.390625l9.894531-10.792968-10.492187-10.195313c-11.945313-11.058594-26.726563-18.195313-43.027344-20.082031 20.28125-22.144532 36.347656-36.105469 36.777344-36.480469l-19.5-22.75c-1.871094 1.59375-18.832031 16.371094-39.9375 39.457031-3.386719-15.054687-10.972657-29.332031-23.058594-40.792968l-11.09375-10.492188-10.195313 11.089844c-24.386718 26.507812-24.738281 67.824218.609376 95.117187-11.675782 17.078125-22.429688 35.640625-30.910157 55.117188-8.1875-16.023438-21.738281-29.382813-37.855469-37.199219l-13.492187-6.597656-6.59375 13.191406c-18.761719 37.519531.617187 84.734375 40.882813 96.15625-.097657 1.4375-.390626 2.859375-.449219 4.296875-.753907 19.765625 2.496093 38.335937 9.570312 55.625-13.867187-2.179687-28.851562-1.921875-42.210937 3.421875l-14.691406 5.996094 6.894531 14.390625c21.304687 47.089843 66.558593 55.757812 96.804687 37.3125 16.1875 14.703125 30.367188 25.160156 43.285156 33.3125-12.734374 6.84375-24.105468 16.757812-32.355468 30.113281l-8.09375 13.492188 13.792968 7.496093c31.9375 17.652344 66.535157 8.90625 88.101563-17.359375 8.390625 5.070313 16.902344 11.148438 25.773437 18.777344-13.417968 14.980469-28.011718 36.152344-44.507812 61.652344l25.179688 16.28125c15.191406-23.488282 28.53125-43 40.820312-56.746094 12.289062 13.746094 25.628906 33.257812 40.816406 56.746094l25.179688-16.28125c-16.492188-25.5-31.085938-46.667969-44.507813-61.648438 8.933594-7.679687 17.5-13.792968 25.941407-18.886718 21.773437 27.023437 56.890624 34.625 87.9375 17.464843l13.792968-7.496093-8.09375-13.492188c-8.25-13.355469-19.617187-23.269531-32.351562-30.113281 12.914062-8.152344 27.09375-18.609375 43.28125-33.3125 30.246094 18.445312 75.5 10.777343 96.804687-36.3125l6.894531-14.390625-14.691406-6.996094c-14.226562-5.6875-29.6875-5.550781-42.121094-3.585938 7.023438-17.238281 10.230469-35.757812 9.476563-55.460937-.054687-1.4375-.347656-2.863281-.445313-4.296875 40.261719-11.417969 59.640626-57.636719 40.878907-95.15625zm0 0"});function q(e,t){var n=e.title,a=e.titleId,r=N(e,["title","titleId"]);return i.createElement("svg",D({viewBox:"0 0 511.99619 511",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,H)}var M=i.forwardRef(q),V=(n.p,Object(f.a)({root:{position:"relative",overflow:"unset",border:"7px #DF9F28 solid",height:"380px"},gold:{textTransform:"uppercase",background:"-webkit-linear-gradient(top, #FDE08D, #8f6B29)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},wreath:{fill:"#dbc214"},silver:{fill:"#c0c0c0"},bronze:{fill:"#905a18"}})),J=function(){var e=r.a.useContext(k),t=(e.players,e.fetchPlayers),n=V();return Object(i.useEffect)((function(){t()}),[]),Object(a.jsxs)(We,{title:"\u0418\u0442\u043e\u0433\u0438 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0438\u0433\u0440\u044b",children:[Object(a.jsx)(Y.a,{container:!0,children:Object(a.jsx)(Y.a,{item:!0,xs:12,children:Object(a.jsxs)(Y.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(M,{className:n.wreath,height:"40px",width:"40px"})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(u.a,{className:n.gold,component:"h1",variant:"h6",children:"\u0418\u0433\u0440\u043e\u043a Player 1 \u043f\u043e\u0431\u0435\u0436\u0434\u0430\u0435\u0442"})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(M,{className:n.wreath,height:"40px",width:"40px"})})]})})}),Object(a.jsxs)(Y.a,{container:!0,justify:"center",alignItems:"center",spacing:6,children:[Object(a.jsx)(Y.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)(B.a,{className:n.root,children:Object(a.jsx)(F.a,{component:"div",style:{height:"100%"},image:"".concat("/scythe-app","/assets/fractions/saxony.jpg"),title:"Contemplative Reptile",children:Object(a.jsxs)(z.a,{style:{display:"flex",height:"100%",justifyContent:"center"},children:[Object(a.jsx)("div",{style:{position:"absolute",top:"-20px",left:"50%",transform:"translate(-50%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"#000",width:60,height:60},children:Object(a.jsx)(M,{className:n.wreath,height:"40px",width:"40px"})}),Object(a.jsx)(u.a,{variant:"h1",style:{marginTop:"auto",color:"#fff",fontWeight:"bold",textShadow:"2px 2px 2px #000"},children:"92"}),Object(a.jsx)("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translate(-50%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",background:"#000",fontSize:"24px",color:"#fff",padding:"10px 20px",minWidth:"90%"},children:"Player 1"})]})})})}),Object(a.jsx)(Y.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)(B.a,{className:n.root,style:{border:"none"},children:Object(a.jsx)(F.a,{component:"div",style:{height:"100%"},image:"".concat("/scythe-app","/assets/fractions/polania.jpg"),title:"Contemplative Reptile",children:Object(a.jsxs)(z.a,{style:{display:"flex",height:"100%",justifyContent:"center"},children:[Object(a.jsx)("div",{style:{position:"absolute",top:"-20px",left:"50%",transform:"translate(-50%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"#000",width:60,height:60},children:Object(a.jsx)(M,{className:n.silver,height:"40px",width:"40px"})}),Object(a.jsx)(u.a,{variant:"h1",style:{marginTop:"auto",color:"#fff",fontWeight:"bold",textShadow:"2px 2px 2px #000"},children:"52"}),Object(a.jsx)("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translate(-50%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",background:"#000",fontSize:"24px",color:"#fff",padding:"10px 20px",minWidth:"90%"},children:"Player 2"})]})})})}),Object(a.jsx)(Y.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)(B.a,{className:n.root,style:{border:"none"},children:Object(a.jsx)(F.a,{component:"div",style:{height:"100%"},image:"".concat("/scythe-app","/assets/fractions/rusvet.jpg"),title:"Contemplative Reptile",children:Object(a.jsxs)(z.a,{style:{display:"flex",height:"100%",justifyContent:"center"},children:[Object(a.jsx)("div",{style:{position:"absolute",top:"-20px",left:"50%",transform:"translate(-50%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"#000",width:60,height:60},children:Object(a.jsx)(M,{className:n.bronze,height:"40px",width:"40px"})}),Object(a.jsx)(u.a,{variant:"h1",style:{marginTop:"auto",color:"#fff",fontWeight:"bold",textShadow:"2px 2px 2px #000"},children:"13"}),Object(a.jsx)("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translate(-50%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",background:"#000",fontSize:"24px",color:"#fff",padding:"10px 20px",minWidth:"90%"},children:"Player 3"})]})})})})]})]})},G=n(187),K=n.n(G),Q=n(188),U=n.n(Q),X=n(180),Z=n(391),$=n(384),ee=n(185),te=n.n(ee),ne=n(182),ae=n.n(ne),ie=n(186),re=n.n(ie),ce=n(181),se=n.n(ce),le=n(183),oe=n.n(le),je=n(184),de=n.n(je),ue=n(135),be=n(56),he=n(192),pe=[{name:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041f\u043e\u043b\u044f\u043d\u0438\u044f",slug:"polania",characterPath:"".concat("/scythe-app","/assets/fractions/polania.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/polania.png")},{name:"\u0421\u0430\u043a\u0441\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u043c\u043f\u0435\u0440\u0438\u044f",slug:"saxony",characterPath:"".concat("/scythe-app","/assets/fractions/saxony.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/saxony.png")},{name:"\u041a\u0440\u044b\u043c\u0441\u043a\u043e\u0435 \u0445\u0430\u043d\u0441\u0442\u0432\u043e",slug:"crimean",characterPath:"".concat("/scythe-app","/assets/fractions/crimean.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/crimean.png")},{name:"\u0421\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u043e",slug:"nordic",characterPath:"".concat("/scythe-app","/assets/fractions/nordic.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/nordic.png")},{name:"\u0420\u0443\u0441\u0441\u0432\u0435\u0442\u0441\u043a\u0438\u0439 \u0441\u043e\u044e\u0437",slug:"rusvet",characterPath:"".concat("/scythe-app","/assets/fractions/rusvet.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/fractions/rusvet.png")}],xe=["\u041f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0439 (1)","\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 (2)","\u041f\u0430\u0442\u0440\u0438\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 (3)","\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 (4)","\u0424\u0435\u0440\u043c\u0435\u0440\u0441\u043a\u0438\u0439 (5)"],fe=function(e){return Object(he.a)(pe,"name")[e].slug},Oe=be.b().shape({gold:be.a().required().min(0).integer(),popularity:be.a().required().min(0).max(18).integer(),stars:be.a().required().min(0).max(6).integer(),territories:be.a().required().min(0).integer(),resources:be.a().required().min(0).integer(),buildingBonuses:be.a().required().min(0).max(9).integer()}),me=function(e){var t,n,r,c,s,o,j=e.player,d=e.editPlayer,h=Object(ue.useForm)({defaultValues:{gold:null===j||void 0===j?void 0:j.gold,popularity:null===j||void 0===j?void 0:j.popularity,stars:null===j||void 0===j?void 0:j.stars,territories:null===j||void 0===j?void 0:j.territories,resources:null===j||void 0===j?void 0:j.resources,buildingBonuses:null===j||void 0===j?void 0:j.buildingBonuses},mode:"onBlur",resolver:Object(X.yupResolver)(Oe)}),p=h.register,x=h.handleSubmit,f=h.errors,O=h.reset;Object(i.useEffect)((function(){O(j)}),[O,j]);var m=function(e){e.target.select()};return Object(a.jsx)("form",{onSubmit:x((function(e){var t=function(e){var t=0;return e.popularity>=0&&e.popularity<=6?t=3*e.stars+2*e.territories+Math.floor(e.resources/2)+e.buildingBonuses+e.gold:e.popularity>=7&&e.popularity<=12?t=4*e.stars+3*e.territories+2*Math.floor(e.resources/2)+e.buildingBonuses+e.gold:e.popularity>=13&&e.popularity<=18&&(t=5*e.stars+4*e.territories+3*Math.floor(e.resources/2)+e.buildingBonuses+e.gold),t}(e);d(Object(l.a)(Object(l.a)(Object(l.a)({},j),e),{},{points:t}))})),autoComplete:"off",children:Object(a.jsxs)(Y.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Z.a,{error:!!f.gold,helperText:null===f||void 0===f||null===(t=f.gold)||void 0===t?void 0:t.message,inputRef:p,id:"gold",name:"gold",fullWidth:!0,variant:"outlined",size:"small",label:"\u041c\u043e\u043d\u0435\u0442\u044b \u043d\u0430 \u0440\u0443\u043a\u0430\u0445",type:"number",onFocus:m,InputProps:{startAdornment:Object(a.jsx)($.a,{position:"start",children:Object(a.jsx)(se.a,{})})}})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Z.a,{error:!!f.popularity,helperText:null===f||void 0===f||null===(n=f.popularity)||void 0===n?void 0:n.message,inputRef:p,id:"popularity",name:"popularity",fullWidth:!0,variant:"outlined",size:"small",label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c",type:"number",onFocus:m,InputProps:{startAdornment:Object(a.jsx)($.a,{position:"start",children:Object(a.jsx)(ae.a,{})})}})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Z.a,{error:!!f.stars,helperText:null===f||void 0===f||null===(r=f.stars)||void 0===r?void 0:r.message,inputRef:p,id:"stars",name:"stars",fullWidth:!0,variant:"outlined",size:"small",label:"\u041a\u043e\u043b-\u0432\u043e \u0437\u0432\u0435\u0437\u0434",type:"number",onFocus:m,InputProps:{startAdornment:Object(a.jsx)($.a,{position:"start",children:Object(a.jsx)(oe.a,{})})}})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Z.a,{error:!!f.territories,helperText:null===f||void 0===f||null===(c=f.territories)||void 0===c?void 0:c.message,inputRef:p,id:"territories",name:"territories",fullWidth:!0,variant:"outlined",size:"small",label:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439 (\u0444\u0430\u0431\u0440\u0438\u043a\u0430 \u0434\u0430\u0435\u0442 +3)",type:"number",onFocus:m,InputProps:{startAdornment:Object(a.jsx)($.a,{position:"start",children:Object(a.jsx)(de.a,{})})}})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Z.a,{error:!!f.resources,helperText:null===f||void 0===f||null===(s=f.resources)||void 0===s?void 0:s.message,inputRef:p,id:"resources",name:"resources",fullWidth:!0,variant:"outlined",size:"small",label:"\u0412\u0441\u0435\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",type:"number",onFocus:m,InputProps:{startAdornment:Object(a.jsx)($.a,{position:"start",children:Object(a.jsx)(te.a,{})})}})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Z.a,{error:!!f.buildingBonuses,helperText:null===f||void 0===f||null===(o=f.buildingBonuses)||void 0===o?void 0:o.message,inputRef:p,id:"buildingBonuses",name:"buildingBonuses",fullWidth:!0,variant:"outlined",size:"small",label:"\u0411\u043e\u043d\u0443\u0441\u044b \u0437\u0434\u0430\u043d\u0438\u0439",type:"number",onFocus:m,InputProps:{startAdornment:Object(a.jsx)($.a,{position:"start",children:Object(a.jsx)(re.a,{})})}})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsxs)(Y.a,{container:!0,alignItems:"center",justify:"space-between",spacing:2,children:[Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(b.a,{type:"submit",color:"primary",variant:"contained",children:"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsxs)(u.a,{variant:"h6",children:["\u041e\u0447\u043a\u043e\u0432: ",j.points]})})]})})]})})};var ge,ye=function(e){var t=r.a.useContext(k),n=t.players,c=t.fetchPlayers,s=t.editPlayer,l=function(e,t){return Object.values(e).find((function(e){return fe(e.fraction)===t}))}(n,e.match.params.id);Object(i.useEffect)((function(){c()}),[]);var o=null,j=null;if(Object.values(n).length>0){var d=Object.values(n).sort((function(e,t){return parseInt(e.mat.slice(-2,-1))-parseInt(t.mat.slice(-2,-1))})),p=d.findIndex((function(e){return e.id===l.id}));o=p>=0&&Object.values(d)[p-1]?fe(Object.values(d)[p-1].fraction):null,j=p>=0&&Object.values(d)[p+1]?fe(Object.values(d)[p+1].fraction):null}return l?Object(a.jsx)(We,{title:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0447\u043a\u043e\u0432",children:Object(a.jsxs)(Y.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsxs)(Y.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(Y.a,{item:!0,xs:8,sm:10,children:Object(a.jsxs)(u.a,{variant:"h5",children:["\u0418\u0433\u0440\u043e\u043a: ",l.name]})}),Object(a.jsx)(Y.a,{item:!0,xs:2,sm:1,style:{textAlign:"end"},children:Object(a.jsx)(O.a,{disabled:!Boolean(o),component:h.a,to:"/score/".concat(o),color:"inherit",children:Object(a.jsx)(K.a,{})})}),Object(a.jsx)(Y.a,{item:!0,xs:2,sm:1,style:{textAlign:"end"},children:Object(a.jsx)(O.a,{edge:"end",disabled:!Boolean(j),component:h.a,to:"/score/".concat(j),color:"inherit",children:Object(a.jsx)(U.a,{})})})]})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(me,{player:l,editPlayer:s})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Y.a,{container:!0,alignItems:"center",justify:"space-between",spacing:2,children:Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(b.a,{component:h.a,to:Te.result.path,type:"submit",color:"secondary",variant:"contained",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})})})})]})}):Object(a.jsx)("div",{children:"Loading"})},ve=n(18),Pe=n(392),Ee=n(386),Ce=Object(f.a)({media:{objectPosition:"50% 25%"}}),Re=function(e){var t=e.name,n=void 0===t?"":t,i=e.characterPath,r=void 0===i?"":i,c=Ce();return Object(a.jsx)(F.a,{component:"img",height:"140",className:c.media,image:r,alt:n,title:n})},Ae=function(e){var t=e.name,n=e.iconPath;return Object(a.jsx)("img",{height:35,src:n,alt:t})},we=function(e){var t=e.name,n=e.fraction,i=e.mat,c=e.id,s=r.a.useContext(k),o=s.players,j=s.editPlayer,d=s.deletePlayer;return Object(a.jsxs)(B.a,{children:[Object(a.jsx)(Re,Object(l.a)({},pe.find((function(e){return e.name===n})))),Object(a.jsx)(z.a,{children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(a.jsxs)(Y.a,{container:!0,spacing:2,direction:"column",children:[Object(a.jsx)(Y.a,{item:!0,xs:12,children:Object(a.jsx)(Z.a,{label:"\u0418\u043c\u044f",defaultValue:t,onChange:function(e){return function(e,t){var n=Object(l.a)(Object(l.a)({},o[t]),{},{name:e.target.value});j(n)}(e,c)},onFocus:function(e){e.target.select()},variant:"outlined",size:"medium",fullWidth:!0})}),Object(a.jsx)(Y.a,{item:!0,xs:12,children:Object(a.jsxs)(Y.a,{container:!0,justify:"space-between",children:[Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Z.a,{select:!0,SelectProps:{renderValue:function(e){var t=pe.find((function(t){return t.name===e}));return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t&&Object(a.jsx)(Ae,Object(l.a)({},t))})}},label:"\u0424\u0440\u0430\u043a\u0446\u0438\u044f",value:n,onChange:function(e){return function(e,t){var n=e.target.value,a=o[t].fraction,i=Object.values(o).find((function(e){return e.fraction===n}));if(i){var r=Object(l.a)(Object(l.a)({},o[i.id]),{},{fraction:a});j(r)}var c=Object(l.a)(Object(l.a)({},o[t]),{},{fraction:n});j(c)}(e,c)},variant:"outlined",size:"small",children:pe.map((function(e){return Object(a.jsxs)(Pe.a,{value:e.name,children:[Object(a.jsx)(Ae,Object(l.a)({},e)),"\xa0\xa0\xa0",e.name]},e.name)}))})}),Object(a.jsx)(Y.a,{item:!0,className:"mats-input",children:Object(a.jsx)(Z.a,{select:!0,label:"\u041f\u043b\u0430\u043d\u0448\u0435\u0442",value:i,onChange:function(e){return function(e,t){var n=e.target.value,a=o[t].mat,i=Object.values(o).find((function(e){return e.mat===n}));if(i){var r=Object(l.a)(Object(l.a)({},o[i.id]),{},{mat:a});j(r)}var c=Object(l.a)(Object(l.a)({},o[t]),{},{mat:n});j(c)}(e,c)},variant:"outlined",size:"medium",fullWidth:!0,children:xe.map((function(e){return Object(a.jsx)(Pe.a,{value:e,children:e},e)}))})})]})})]})})}),Object(a.jsxs)(Ee.a,{disableSpacing:!0,style:{paddingTop:0,display:"flex",justifyContent:"flex-end"},children:[Object(a.jsx)(b.a,{style:{marginRight:"auto"},component:h.a,to:"/score/".concat(fe(n)),color:"primary",size:"medium",children:"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043e\u0447\u043a\u0438"}),Object(a.jsx)(b.a,{color:"secondary",size:"medium",onClick:function(){return function(e){d(e)}(c)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},Te={index:{path:"/",title:"\u041a\u0442\u043e \u0438\u0433\u0440\u0430\u0435\u0442?",exact:!0,component:function(){var e=r.a.useContext(k),t=e.players,n=e.createPlayer,c=e.fetchPlayers,s=Object(o.f)();Object(i.useEffect)((function(){c()}),[]);return Object(a.jsx)(We,{children:Object(a.jsxs)(Y.a,{container:!0,direction:"column",spacing:4,children:[Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsxs)(Y.a,{container:!0,direction:"column",spacing:1,children:[Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(b.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){n()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(b.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){var e,n=Object(ve.a)(xe);try{var a=function(){var n=e.value,a=Object.values(t).find((function(e){return e.mat===n}));if(a)return s.push("/score/".concat(fe(a.fraction))),"break"};for(n.s();!(e=n.n()).done;){if("break"===a())break}}catch(i){n.e(i)}finally{n.f()}},children:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0447\u043a\u043e\u0432"})})]})}),Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(Y.a,{container:!0,direction:"column",spacing:2,children:Object.values(t).map((function(e){return Object(a.jsx)(Y.a,{item:!0,children:Object(a.jsx)(we,Object(l.a)({},e))},e.id)}))})})]})})}},score:{path:"/score/:id",title:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0447\u043a\u043e\u0432",exact:!0,component:ye},result:{path:"/result",title:"\u0418\u0442\u043e\u0433\u0438 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0438\u0433\u0440\u044b",exact:!0,component:W},winner:{path:"/winner",title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",exact:!0,component:J}},Le=Object(f.a)((function(e){return Object(g.a)({toolbar:{justifyContent:"space-between"},title:{marginLeft:"auto"}})})),Ie=function(e){var t=e.title,n=void 0===t?"Scythe Point Calculator":t,i=Le(),r=Object(o.f)();return Object(a.jsx)(m.a,{position:"static",children:Object(a.jsxs)(y.a,{className:i.toolbar,children:[r.location.pathname!==Te.index.path&&Object(a.jsx)(O.a,{component:h.a,to:Te.index.path,edge:"start",color:"inherit","aria-label":"back",children:Object(a.jsx)(P.a,{})}),Object(a.jsx)(u.a,{variant:"h6",className:i.title,children:n})]})})},_e=n(94),ke=(n(317),function(){return Object(a.jsx)(_e.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0})}),Se=Object(f.a)({fixed:{"@media (min-width: 600px)":{maxWidth:768},"@media (min-width: 960px)":{maxWidth:960},"@media (min-width: 1280px)":{maxWidth:1280}}}),We=function(e){var t=e.title,n=Se();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{}),Object(a.jsx)(Ie,{title:t}),Object(a.jsx)(ke,{}),Object(a.jsx)(p.a,{fixed:!0,className:n.fixed,children:Object(a.jsx)("main",{style:{height:"90vh",paddingTop:30},children:e.children})})]})},Ye=function(){return Object(a.jsxs)(We,{children:[Object(a.jsx)(u.a,{variant:"h1",align:"center",children:"404?!"}),Object(a.jsx)(b.a,{component:h.a,to:Te.index.path,variant:"outlined",color:"primary",fullWidth:!0,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},Be=function(){return Object(a.jsx)(o.b,{history:d,children:Object(a.jsxs)(o.c,{children:[Object.values(Te).map((function(e){return Object(a.jsx)(o.a,Object(l.a)({},e),e.path)})),Object(a.jsx)(o.a,{component:Ye})]})})},Fe=(n(318),n(27)),ze=n(139),De=n(193),Ne=n(25),He=n(191);function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.FETCH_PLAYERS:return Object(l.a)(Object(l.a)({},e),Object(_.a)(t.payload,"id"));case ge.FETCH_PLAYER:case ge.CREATE_PLAYER:case ge.EDIT_PLAYER:return Object(l.a)(Object(l.a)({},e),{},Object(Ne.a)({},t.payload.id,t.payload));case ge.DELETE_PLAYER:return Object(He.a)(e,t.payload);case ge.CLEAR_PLAYERS_DATA:return{};default:return e}}function Me(e){for(var t=Object(E.a)(e),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),i=t[n];t[n]=t[a],t[a]=i}return t}!function(e){e[e.FETCH_PLAYER=0]="FETCH_PLAYER",e[e.CREATE_PLAYER=1]="CREATE_PLAYER",e[e.EDIT_PLAYER=2]="EDIT_PLAYER",e[e.FETCH_PLAYERS=3]="FETCH_PLAYERS",e[e.DELETE_PLAYER=4]="DELETE_PLAYER",e[e.CLEAR_PLAYERS_DATA=5]="CLEAR_PLAYERS_DATA"}(ge||(ge={}));var Ve=function(e){var t=e.children,n=Object(i.useReducer)(qe,{}),r=Object(Fe.a)(n,2),c=r[0],s=r[1],l=Object(ze.useLocalStorage)("players"),o=Object(Fe.a)(l,1)[0];function j(e){s({type:ge.DELETE_PLAYER,payload:e})}return Object(i.useEffect)((function(){Object(ze.writeStorage)("players",c)}),[c]),Object(a.jsx)(k.Provider,{value:{players:c,dispatch:s,fetchPlayer:function(e){o&&s({type:ge.FETCH_PLAYER,payload:o[e]})},fetchPlayers:function(){o&&s({type:ge.FETCH_PLAYERS,payload:o})},createPlayer:function(){if(Object.values(c).length>=5)_e.b.error("\ud83d\udd25 \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432: 5",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});else{_e.b.success("\u2714 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0438\u0433\u0440\u043e\u043a",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var e=Object.values(c).map((function(e){return e.fraction})),t=Object.values(c).map((function(e){return e.mat})),n=Me(pe.map((function(e){return e.name}))).filter((function(t){return!e.includes(t)})),a=Me(xe).filter((function(e){return!t.includes(e)})),i=n[0],r=a[0],l={id:Object(De.a)(),name:"Player "+(Object.values(c).length+1),fraction:i,mat:r,gold:0,popularity:0,stars:0,territories:0,resources:0,buildingBonuses:0,points:0};s({type:ge.CREATE_PLAYER,payload:l})}},editPlayer:function(e){s({type:ge.EDIT_PLAYER,payload:e})},deletePlayer:j,clearData:function(){Object.values(c).forEach((function(e){return j(e.id)}))}},children:t})};s.a.render(Object(a.jsx)(Ve,{children:Object(a.jsx)(Be,{})}),document.getElementById("root"))}},[[333,1,2]]]);
//# sourceMappingURL=main.e7928158.chunk.js.map