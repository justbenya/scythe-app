(this["webpackJsonpscythe-score-calculator"]=this["webpackJsonpscythe-score-calculator"]||[]).push([[0],{381:function(e,t,n){},382:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(448),r=n(0),c=n.n(r),o=n(14),s=n.n(o),l=n(15),u=n(194),d=n(8),j=n(222),b=n(445),h=n(163),m=n.n(h),p=n(444),f=n(18),O=n(33),x=Object(O.b)({basename:"/"}),g=n(229),v=n(421),y=n(29),P=n(419),w=n(416),N=n(3),k=n(442),W=n(443),z=n(138),C=n.n(z),B=n(219),S=n.n(B),I=n(218),T=n.n(I),E=n(20),A=n(164),V=n(228),F=n(420),R=n(21),q=n.n(R),L=n(44),M=n(31),U=n(55),H=n(221),J=n(224),D=n(10);function K(e){for(var t=Object(D.a)(e),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),i=t[n];t[n]=t[a],t[a]=i}return t}function $(e){return e.replace(":id?/","").replace(":id","")}var G=Object(U.b)({name:"players",initialState:{},reducers:{createPlayer:{reducer:function(e,t){if(!(Object.values(e).length>=Ut)){var n=Object.values(e).map((function(e){return e.faction})),a=Object.values(e).map((function(e){return e.mat})),i=K(Jt).filter((function(e){return!n.includes(e.name)})),r=K(Dt).filter((function(e){return!a.includes(e.name)})),c=i[0].name,o=r[0].name,s={id:t.payload.id,name:"Player "+(Object.values(e).length+1),faction:c,mat:o,gold:0,popularity:0,stars:0,territories:0,resources:0,buildingBonuses:0,points:0};e[s.id]=s}},prepare:function(){return{payload:{id:Object(J.a)()}}}},editPlayer:function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(M.a)({},t.payload.id,t.payload))},removePlayer:function(e,t){return Object(H.a)(e,t.payload)},deletePlayers:function(){return{}}}}),Q=G.actions,X=Q.createPlayer,Y=Q.editPlayer,Z=Q.removePlayer,_=Q.deletePlayers,ee=function(e,t,n){return function(a,i){var r=function(e){var t=0;e.popularity>=0&&e.popularity<=6?t=3*e.stars+2*e.territories+Math.floor(e.resources/2)+e.buildingBonuses+e.gold:e.popularity>=7&&e.popularity<=12?t=4*e.stars+3*e.territories+2*Math.floor(e.resources/2)+e.buildingBonuses+e.gold:e.popularity>=13&&e.popularity<=18&&(t=5*e.stars+4*e.territories+3*Math.floor(e.resources/2)+e.buildingBonuses+e.gold);return t}(t);a(Y(Object(d.a)(Object(d.a)(Object(d.a)({},e),t),{},{points:r}))),Object.values(i().players).every((function(e){return e.points>0}))?x.push(Mt.result.path):x.push("".concat($(Mt.score.path)).concat($t(n.faction)))}},te=function(){return function(){var e=Object(L.a)(q.a.mark((function e(t,n){var a,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(X()),a=Object.values(n().players),i=Xt(a),x.push(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ne=G.reducer,ae=n.p+"static/media/bg.2905f7ce.jpg",ie=Object(w.a)({container:{height:"100vh"},paperContainer:{backgroundColor:"#acacac",backgroundImage:"url(".concat(ae,")"),height:"100vh",backgroundPosition:"top center",backgroundSize:"cover"},logo:{marginTop:20,width:120,height:120},title:{paddingTop:50,fontWeight:"bold",color:"#fff",fontSize:46,textShadow:"0 4px 3px rgba(0, 0, 0, 0.4), 0 8px 14px rgba(0, 0, 0, 0.1), 0 18px 30px rgba(0, 0, 0, 0.1)"},btnAddPlayer:{marginTop:"auto",marginBottom:"15vh"}}),re=function(){var e=Object(l.c)(),t=ie();return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(V.a,{className:t.paperContainer,elevation:0,children:Object(a.jsx)(P.a,{fixed:!0,children:Object(a.jsxs)(F.a,{className:t.container,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(a.jsx)(F.a,{item:!0}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(g.a,{align:"center",className:t.title,children:"Scythe Score Calculator"})}),Object(a.jsx)(F.a,{className:t.btnAddPlayer,item:!0,children:Object(a.jsx)(v.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return e(te())},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"})})]})})})})},ce=n(27),oe=n(423),se=n(424),le=n(449),ue=n(425),de=n(48),je=n(200),be=n.n(je),he=n(422),me=n(202),pe=n.n(me),fe=n(201),Oe=n.n(fe),xe=function(e){var t=e.name,n=e.iconPath;return n?Object(a.jsx)("img",{height:35,width:35,src:n,alt:t}):null},ge=function(e){var t=e.player;return Object(a.jsx)(he.a,{invisible:t.points<=0,overlap:"circle",color:"default",badgeContent:Object(a.jsx)(Oe.a,{style:{fontSize:16,color:pe.a[400]}}),children:Object(a.jsx)(xe,{name:t.faction,iconPath:function(e){var t;return null===(t=Jt.find((function(t){return t.name===e.faction})))||void 0===t?void 0:t.iconPath}(t)})})},ve=n(225),ye=n(447),Pe=Object(w.a)({root:{height:"100%",width:"100%",margin:"0 auto","@media (min-width: 600px)":{maxWidth:"100%"},"@media (min-width: 960px)":{maxWidth:960},"@media (min-width: 1280px)":{maxWidth:1280}}}),we=function(e){var t=e.children,n=e.value,i=e.index,r=Object(ve.a)(e,["children","value","index"]),c=Pe();return Object(a.jsx)("div",Object(d.a)(Object(d.a)({className:c.root,role:"tabpanel",hidden:n!==i,id:"full-width-tabpanel-".concat(i),"aria-labelledby":"full-width-tab-".concat(i)},r),{},{children:n===i&&Object(a.jsx)(ye.a,{p:2,children:t})}))},Ne=Object(w.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},paper:{backgroundColor:e.palette.background.default,width:"100%",height:"100%",paddingTop:80,paddingBottom:80},tab:{padding:"3px 6px",fontSize:"12px",fontWeight:300,textTransform:"initial",opacity:.4,minHeight:65,color:e.palette.text.primary},swipeableViews:{height:"100%"}}})),ke=function(e){var t=e.children,n=e.players,i=Ne(),o=Object(de.a)(),s=Object(f.h)().id,l=c.a.useState(Yt(n,s)),u=Object(ce.a)(l,2),d=u[0],j=u[1],b=Object(f.g)(),h=Object(f.i)(Mt.index.path),m=Object(f.i)(Mt.score.path),p=(null===h||void 0===h?void 0:h.path)||(null===m||void 0===m?void 0:m.path)||"";Object(r.useEffect)((function(){j(Yt(n,s))}),[s]);var O=function(e){var t;return null===(t=Jt.find((function(t){return t.name===e.faction})))||void 0===t?void 0:t.shortName};return Object(a.jsxs)(V.a,{className:i.paper,children:[Object(a.jsx)(oe.a,{className:i.root,position:"fixed",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(se.a,{children:Object(a.jsx)(le.a,{value:d,onChange:function(e,t){j(t)},scrollButtons:"auto",variant:"scrollable",indicatorColor:"secondary",children:n.map((function(e){return Object(a.jsx)(ue.a,{component:y.a,className:Object(N.a)(i.tab,"faction-tab"),label:O(e),icon:Object(a.jsx)(ge,{player:e}),to:"".concat($(p)).concat($t(e.faction))},e.faction)}))})})})}),Object(a.jsx)(be.a,{threshold:2,hysteresis:.1,resistance:!0,className:i.swipeableViews,axis:"rtl"===o.direction?"x-reverse":"x",index:d,onChangeIndex:function(e){e<n.length&&(j(e),b.push("".concat($(p)).concat($t(n[e].faction))))},children:n.map((function(e,n){return Object(a.jsx)(we,{value:d,index:n,dir:o.direction,children:t},e.faction)}))}),Object(a.jsx)(Zt,{})]})},We=n(430),ze=n(431),Ce=n(452),Be=n(432),Se=n(429),Ie=n(433),Te=n(451),Ee=n(446),Ae=n(206),Ve=n.n(Ae),Fe=n(223),Re=n(426),qe=Object(w.a)({media:{objectPosition:"50% 25%"}}),Le=function(e){var t=e.name,n=void 0===t?"":t,i=e.characterPath,r=void 0===i?"":i,c=qe();return Object(a.jsx)(Re.a,{component:"img",height:"140",className:c.media,image:r,alt:n,title:n})},Me=n(205),Ue=n.n(Me),He=n(427),Je=n(450),De=n(121),Ke=n(203),$e=n.n(Ke),Ge=function(e){return Object.values(e.players)},Qe=Object(De.a)([Ge],(function(e){var t,n=Object(E.a)(Dt);try{var a=function(){var n=t.value,a=e.find((function(e){return e.mat===n.name}));if(a)return{v:a}};for(n.s();!(t=n.n()).done;){var i=a();if("object"===typeof i)return i.v}}catch(r){n.e(r)}finally{n.f()}return null})),Xe=Object(De.a)([Ge,Qe],(function(e,t){var n=Ht.indexOf(null===t||void 0===t?void 0:t.faction),a=[];if(-1!==n){var i=Ht.map((function(e,t){return $e.a.nth(Ht,n-t)})).filter((function(t){return e.find((function(e){return e.faction===t}))})),r=i.slice(0,1),c=i.slice(1,i.length).reverse();a=[].concat(Object(D.a)(r),Object(D.a)(c))}return a.map((function(t){return e.find((function(e){return e.faction===t}))}))})),Ye=function(e){return Object(De.a)([Ge],(function(t){return t.find((function(t){return $t(t.faction)===e}))}))},Ze=Object(U.b)({name:"names",initialState:[],reducers:{addName:function(e,t){e.push(t.payload)},deleteName:function(e,t){return e.filter((function(e){return e.name!==t.payload}))},changeName:function(e,t){return e.map((function(e){return e.name===t.payload?Object(d.a)(Object(d.a)({},e),{},{name:t.payload}):e}))}}}),_e=Ze.actions,et=_e.addName,tt=_e.deleteName,nt=_e.changeName,at=Ze.reducer,it=function(e){return e.names},rt=Object(He.a)();function ct(){var e=Object(f.h)().id,t=Object(l.d)(it),n=Object(l.c)(),i=Object(l.d)(Ye(e)),r=function(e){n(et(e)),(null===i||void 0===i?void 0:i.id)&&n(Y(Object(d.a)(Object(d.a)({},i),{},{name:e.name})))};return Object(a.jsx)(Je.a,{value:{name:(null===i||void 0===i?void 0:i.name)||"Player"},onChange:function(e,t){if("string"===typeof t)r({name:t});else if(t&&t.inputValue)r({name:t.inputValue});else if(t){if((null===i||void 0===i?void 0:i.name)===t.name)return;a={name:t.name},n(nt(a.name)),(null===i||void 0===i?void 0:i.id)&&n(Y(Object(d.a)(Object(d.a)({},i),{},{name:a.name})))}var a},filterOptions:function(e,n){var a=rt(e,n),r=""!==n.inputValue,c=n.inputValue!==(null===i||void 0===i?void 0:i.name),o=-1===t.findIndex((function(e){return e.name===n.inputValue}));return r&&c&&o&&a.push({inputValue:n.inputValue,name:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "'.concat(n.inputValue,'"')}),a},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:t,getOptionLabel:function(e){return"string"===typeof e?e:(null===e||void 0===e?void 0:e.inputValue)?e.inputValue:null===e||void 0===e?void 0:e.name},renderOption:function(e){return e.inputValue?e.name:Object(a.jsxs)("div",{style:{display:"flex",width:"100%",height:30,justifyContent:"space-between",alignItems:"center"},children:[Object(a.jsx)("p",{children:e.name}),Object(a.jsx)(Se.a,{"aria-label":"delete",onClick:function(t){return function(e,t){n(tt(t)),e.stopPropagation()}(t,e.name)},children:Object(a.jsx)(Ue.a,{fontSize:"small"})})]})},freeSolo:!0,renderInput:function(e){return Object(a.jsx)(Ee.a,Object(d.a)(Object(d.a)({},e),{},{label:"\u0418\u043c\u044f",variant:"outlined",size:"medium",fullWidth:!0}))}})}var ot=Object(w.a)((function(e){return Object(Te.a)({root:{maxWidth:345},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},cardActions:{paddingBottom:0,paddingTop:0},cardContent:{paddingTop:0},expandOpen:{transform:"rotate(180deg)"},slider:{overflow:"auto",maxWidth:1200,margin:"0 auto"},sliderBody:{overflow:"auto",width:"100%",height:350,textAlign:"center"},sliderImage:{width:"auto",height:345}})})),st=function(){var e,t=Object(f.h)().id,n=void 0===t?"":t,i=Object(Fe.a)(),r=ot(),o=c.a.useState(!1),s=Object(ce.a)(o,2),u=s[0],j=s[1],b=Object(l.d)((function(e){return e.players})),h=Object(l.d)((function(e){return Object.values(e.players).find((function(e){return $t(e.faction)===n}))})),m=Object(l.c)();if(!h)return null;var p=function(e,t){var n=e.target.value,a=b[t].faction,i=Object.values(b).find((function(e){return e.faction===n}));if(i){var r=Object(d.a)(Object(d.a)({},b[i.id]),{},{faction:a});m(Y(r))}var c=Object(d.a)(Object(d.a)({},b[t]),{},{faction:n});m(function(e){return function(t){t(Y(e)),x.push("".concat($(Mt.index.path)).concat($t(e.faction)))}}(c))};return Object(a.jsxs)(We.a,{children:[Object(a.jsx)(Le,Object(d.a)({},Jt.find((function(e){return e.name===h.faction})))),Object(a.jsx)(ze.a,{children:Object(a.jsxs)(F.a,{container:!0,spacing:2,direction:"row",children:[Object(a.jsx)(F.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(ct,{})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Ee.a,{select:!0,SelectProps:{renderValue:function(e){var t=Jt.find((function(t){return t.name===e}));return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t&&Object(a.jsx)(xe,Object(d.a)({},t))})}},label:"\u0424\u0440\u0430\u043a\u0446\u0438\u044f",value:h.faction,onChange:function(e){return p(e,h.id)},variant:"outlined",size:"small",children:Jt.map((function(e){return Object(a.jsxs)(Ce.a,{value:e.name,children:[Object(a.jsx)(xe,Object(d.a)({},e)),"\xa0\xa0\xa0",e.name]},e.name)}))})}),Object(a.jsx)(F.a,{item:!0,xs:!0,children:Object(a.jsx)(Ee.a,{select:!0,label:"\u041f\u043b\u0430\u043d\u0448\u0435\u0442",value:h.mat,onChange:function(e){return function(e,t){var n=e.target.value,a=b[t].mat,i=Object.values(b).find((function(e){return e.mat===n}));if(i){var r=Object(d.a)(Object(d.a)({},b[i.id]),{},{mat:a});m(Y(r))}var c=Object(d.a)(Object(d.a)({},b[t]),{},{mat:n});m(Y(c))}(e,h.id)},variant:"outlined",size:"medium",fullWidth:!0,children:Dt.map((function(e){return Object(a.jsx)(Ce.a,{value:e.name,children:e.name},e.name)}))})})]})}),Object(a.jsxs)(Be.a,{disableSpacing:!0,className:r.cardActions,children:[Object(a.jsx)(v.a,{color:"secondary",size:"medium",onClick:function(){m(function(e){return function(t){t(Z(e)),x.push($(Mt.index.path))}}(h.id))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(a.jsx)(Se.a,{className:Object(N.a)(r.expand,Object(M.a)({},r.expandOpen,u)),onClick:function(){j(!u)},"aria-expanded":u,"aria-label":"show mat",children:Object(a.jsx)(Ve.a,{})})]}),Object(a.jsx)(Ie.a,{in:u,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(ze.a,{className:r.cardContent,children:Object(a.jsx)("div",{className:r.slider,style:{width:i-65},children:Object(a.jsx)("div",{className:r.sliderBody,children:Object(a.jsx)("img",{className:r.sliderImage,src:"".concat(null===(e=Dt.find((function(e){return e.name===h.mat})))||void 0===e?void 0:e.imgPath),alt:h.mat})})})})})]})},lt=function(){var e=Object(l.d)(Ge),t=Object(l.c)(),n=Object(f.h)().id,i=function(e,t){return e.find((function(e){return $t(e.faction)===t}))}(e,n);return!n&&e.length?Object(a.jsx)(f.a,{to:Xt(e)}):e.length?Object(a.jsxs)(ke,{players:e,faction:n,children:[Object(a.jsx)(st,{}),Object(a.jsxs)(F.a,{container:!0,direction:"column",spacing:2,justify:"center",style:{paddingTop:20},children:[Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(v.a,{variant:"contained",disabled:e.length>=Ut,color:"secondary",fullWidth:!0,onClick:function(){return t(te())},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(v.a,{variant:"contained",disabled:!i,color:"primary",fullWidth:!0,onClick:function(){return t((function(e){e(_()),x.push("/")}))},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"})})]})]}):Object(a.jsx)(f.a,{to:"/"})},ut=n(434),dt=n(435),jt=n(436),bt=n(437),ht=n(438),mt=n(439),pt=n(207),ft=Object(w.a)((function(e){return Object(Te.a)({root:{borderCollapse:"separate",minWidth:320},sticky:{position:"sticky",background:e.palette.background.paper,left:0,zIndex:1}})})),Ot=Object(l.b)((function(e){return{players:e.players}}),{deletePlayers:_,editPlayer:Y})((function(e){var t=Object(f.g)(),n=ft(),i=e.players,r=e.deletePlayers,c=e.editPlayer,o=Object(D.a)(Object.values(i)).sort((function(e,t){return t.points-e.points})).map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{gameEndPosition:t+1})})),s=Object(d.a)({},Object(pt.a)(o,"id"));return Object(a.jsxs)(en,{className:"result-page",children:[Object(a.jsx)(ut.a,{component:V.a,children:Object(a.jsxs)(dt.a,{className:n.root,size:"small",children:[Object(a.jsx)(jt.a,{children:Object(a.jsxs)(bt.a,{children:[Object(a.jsx)(ht.a,{align:"center",size:"small",children:"\u2116"}),Object(a.jsx)(ht.a,{className:n.sticky,children:"\u0418\u0433\u0440\u043e\u043a"}),Kt.map((function(e){return Object(a.jsx)(ht.a,{align:"center",children:Object(a.jsx)("img",{width:30,height:30,src:e.imgPath,alt:e.name})})})),Object(a.jsx)(ht.a,{align:"center",children:"\u0412\u0441\u0435\u0433\u043e"})]})}),Object(a.jsx)(mt.a,{children:Object.values(s).map((function(e){return Object(a.jsxs)(bt.a,{children:[Object(a.jsx)(ht.a,{align:"center",children:e.gameEndPosition}),Object(a.jsxs)(ht.a,{className:n.sticky,component:"th",scope:"player",size:"small",children:[e.name,Object(a.jsx)("br",{}),Gt(e.faction),Object(a.jsx)("br",{}),e.mat]}),Object(a.jsx)(ht.a,{size:"small",align:"center",children:e.popularity}),Object(a.jsx)(ht.a,{size:"small",align:"center",children:e.stars}),Object(a.jsx)(ht.a,{size:"small",align:"center",children:e.territories}),Object(a.jsx)(ht.a,{size:"small",align:"center",children:e.resources}),Object(a.jsx)(ht.a,{size:"small",align:"center",children:e.buildingBonuses}),Object(a.jsx)(ht.a,{size:"small",align:"center",children:e.gold}),Object(a.jsx)(ht.a,{size:"small",align:"center",children:e.points})]},e.name)}))})]})}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"secondary",onClick:function(){Object(D.a)(Object.values(i)).sort((function(e,t){return t.points-e.points})).forEach((function(e,t){return c(Object(d.a)(Object(d.a)({},e),{},{gameEndPosition:t+1}))})),r(),setTimeout((function(){t.push("/")}),100)},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"})]})})),xt=n(211),gt=n(440),vt=n(213),yt=n.n(vt),Pt=n(216),wt=n.n(Pt),Nt=n(212),kt=n.n(Nt),Wt=n(214),zt=n.n(Wt),Ct=n(215),Bt=n.n(Ct),St=n(158),It=n(76),Tt="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c",Et=function(e){return"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e)},At=It.b().shape({gold:It.a().required().min(0,Tt).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0435\u0442\u044b"),popularity:It.a().required().min(0,Tt).max(18,Et(18)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u0443\u044e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c"),stars:It.a().required().min(0,Tt).max(6,Et(6)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u044b"),territories:It.a().required().min(0,Tt).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439"),resources:It.a().required().min(0,Tt).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432"),buildingBonuses:It.a().required().min(0,Tt).max(9,Et(9)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043c\u043e\u043d\u0435\u0442 \u0437\u0430 \u0431\u043e\u043d\u0443\u0441 \u0437\u0434\u0430\u043d\u0438\u0439")}),Vt=function(){var e,t,n,i,c,o,s=Object(f.h)().id,u=Object(l.d)(Xe),d=Object(l.d)(Ye(s)),j=Object(l.c)(),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.findIndex((function(e){return e.id===t.id})),a=e[e.length-1],i=e[0],r=n>=0&&e[n-1]?e[n-1]:a,c=n>=0&&e[n+1]?e[n+1]:i;return{prevPlayer:r,nextPlayer:c}}(u,d).nextPlayer,h=Object(St.useForm)({defaultValues:{gold:null===d||void 0===d?void 0:d.gold,popularity:null===d||void 0===d?void 0:d.popularity,stars:null===d||void 0===d?void 0:d.stars,territories:null===d||void 0===d?void 0:d.territories,resources:null===d||void 0===d?void 0:d.resources,buildingBonuses:null===d||void 0===d?void 0:d.buildingBonuses},mode:"onSubmit",resolver:Object(xt.yupResolver)(At)}),m=h.register,p=h.handleSubmit,O=h.errors,x=h.reset;Object(r.useEffect)((function(){(null===d||void 0===d?void 0:d.gold)||(null===d||void 0===d?void 0:d.popularity)||(null===d||void 0===d?void 0:d.stars)||(null===d||void 0===d?void 0:d.territories)||(null===d||void 0===d?void 0:d.resources)||(null===d||void 0===d?void 0:d.buildingBonuses)?x(d):x({gold:void 0,popularity:void 0,stars:void 0,territories:void 0,resources:void 0,buildingBonuses:void 0})}),[x,d]);var y=function(e){e.target.select()};return Object(a.jsx)("form",{onSubmit:p((function(e){d&&j(ee(d,e,b))})),autoComplete:"off",children:Object(a.jsxs)(F.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Ee.a,{error:!!O.gold,helperText:null===O||void 0===O||null===(e=O.gold)||void 0===e?void 0:e.message,inputRef:m,id:"gold",name:"gold",fullWidth:!0,variant:"outlined",size:"small",label:"\u041c\u043e\u043d\u0435\u0442\u044b \u043d\u0430 \u0440\u0443\u043a\u0430\u0445",type:"number",onFocus:y,InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(kt.a,{})})}})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Ee.a,{error:!!O.popularity,helperText:null===O||void 0===O||null===(t=O.popularity)||void 0===t?void 0:t.message,inputRef:m,id:"popularity",name:"popularity",fullWidth:!0,variant:"outlined",size:"small",label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c",type:"number",onFocus:y,InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(yt.a,{})})}})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Ee.a,{error:!!O.stars,helperText:null===O||void 0===O||null===(n=O.stars)||void 0===n?void 0:n.message,inputRef:m,id:"stars",name:"stars",fullWidth:!0,variant:"outlined",size:"small",label:"\u041a\u043e\u043b-\u0432\u043e \u0437\u0432\u0435\u0437\u0434",type:"number",onFocus:y,InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(zt.a,{})})}})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Ee.a,{error:!!O.territories,helperText:null===O||void 0===O||null===(i=O.territories)||void 0===i?void 0:i.message,inputRef:m,id:"territories",name:"territories",fullWidth:!0,variant:"outlined",size:"small",label:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439 (\u0444\u0430\u0431\u0440\u0438\u043a\u0430 \u0434\u0430\u0435\u0442 +3)",type:"number",onFocus:y,InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(Bt.a,{})})}})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Ee.a,{error:!!O.resources,helperText:null===O||void 0===O||null===(c=O.resources)||void 0===c?void 0:c.message,inputRef:m,id:"resources",name:"resources",fullWidth:!0,variant:"outlined",size:"small",label:"\u0412\u0441\u0435\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 (\u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0435\u0441\u0443\u0440\u0441)",type:"number",onFocus:y,InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(C.a,{})})}})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Ee.a,{error:!!O.buildingBonuses,helperText:null===O||void 0===O||null===(o=O.buildingBonuses)||void 0===o?void 0:o.message,inputRef:m,id:"buildingBonuses",name:"buildingBonuses",fullWidth:!0,variant:"outlined",size:"small",label:"\u0411\u043e\u043d\u0443\u0441\u044b \u0437\u0434\u0430\u043d\u0438\u0439",type:"number",onFocus:y,InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(wt.a,{})})}})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsxs)(F.a,{container:!0,alignItems:"center",justify:"space-between",spacing:2,children:[Object(a.jsx)(F.a,{item:!0,xs:12,children:Object(a.jsx)(v.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})}),(null===d||void 0===d?void 0:d.points)?Object(a.jsx)(F.a,{item:!0,children:Object(a.jsxs)(g.a,{variant:"h6",children:["\u041e\u0447\u043a\u043e\u0432: ",null===d||void 0===d?void 0:d.points]})}):null]})})]})})},Ft=function(){var e=Object(f.h)().id,t=Object(l.d)(Xe),n=Object(l.d)(Ye(e));return n&&t?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(ke,{players:t,faction:e,children:Object(a.jsxs)(F.a,{container:!0,direction:"column",spacing:3,style:{height:"100%"},children:[Object(a.jsx)(F.a,{item:!0,children:Object(a.jsxs)(g.a,{variant:"h5",children:["\u0418\u0433\u0440\u043e\u043a: ",n.name]})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Vt,{})})]})})}):Object(a.jsx)(tn,{})},Rt=n(441),qt=n(217),Lt=n.n(qt),Mt={first:{path:"/",title:"",exact:!0,component:re},index:{path:"/faction/:id?/",title:"\u0424\u0440\u0430\u043a\u0446\u0438\u0438",exact:!1,component:lt},score:{path:"/score/:id?/",title:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0447\u043a\u043e\u0432",exact:!0,component:Ft},result:{path:"/result",title:"\u0418\u0442\u043e\u0433\u0438 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0438\u0433\u0440\u044b",exact:!0,component:Ot},map:{path:"/map",title:"\u041a\u0430\u0440\u0442\u0430",exact:!0,component:tn},settings:{path:"/settings",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",exact:!0,component:function(e){return Object(a.jsx)(en,{children:Object(a.jsx)(F.a,{container:!0,children:Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(Rt.a,{rel:"noopener",href:"https://github.com/justbenya/scythe-app",children:Object(a.jsx)(Lt.a,{fontSize:"large",style:{color:"#fff"}})})})})})}}},Ut=5,Ht=["\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041f\u043e\u043b\u044f\u043d\u0438\u044f","\u0421\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u043e","\u0420\u0443\u0441\u0441\u0432\u0435\u0442\u0441\u043a\u0438\u0439 \u0441\u043e\u044e\u0437","\u041a\u0440\u044b\u043c\u0441\u043a\u043e\u0435 \u0445\u0430\u043d\u0441\u0442\u0432\u043e","\u0421\u0430\u043a\u0441\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u043c\u043f\u0435\u0440\u0438\u044f"],Jt=[{name:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041f\u043e\u043b\u044f\u043d\u0438\u044f",shortName:"\u041f\u043e\u043b\u044f\u043d\u0438\u044f",slug:"polania",characterPath:"".concat(".","/assets/factions/polania.jpg"),iconPath:"".concat(".","/assets/icons/factions/polania.png")},{name:"\u0421\u0430\u043a\u0441\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u043c\u043f\u0435\u0440\u0438\u044f",shortName:"\u0421\u0430\u043a\u0441\u043e\u043d\u0438\u044f",slug:"saxony",characterPath:"".concat(".","/assets/factions/saxony.jpg"),iconPath:"".concat(".","/assets/icons/factions/saxony.png")},{name:"\u041a\u0440\u044b\u043c\u0441\u043a\u043e\u0435 \u0445\u0430\u043d\u0441\u0442\u0432\u043e",shortName:"\u041a\u0440\u044b\u043c",slug:"crimean",characterPath:"".concat(".","/assets/factions/crimean.jpg"),iconPath:"".concat(".","/assets/icons/factions/crimean.png")},{name:"\u0421\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u043e",shortName:"\u0421\u0435\u0432\u0435\u0440",slug:"nordic",characterPath:"".concat(".","/assets/factions/nordic.jpg"),iconPath:"".concat(".","/assets/icons/factions/nordic.png")},{name:"\u0420\u0443\u0441\u0441\u0432\u0435\u0442\u0441\u043a\u0438\u0439 \u0441\u043e\u044e\u0437",shortName:"\u0420\u0443\u0441\u0441\u0432\u0435\u0442",slug:"rusviet",characterPath:"".concat(".","/assets/factions/rusviet.jpg"),iconPath:"".concat(".","/assets/icons/factions/rusviet.png")}],Dt=[{name:"\u041f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0439 (1)",imgPath:"".concat(".","/assets/mats/industrial1.jpg")},{name:"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 (2)",imgPath:"".concat(".","/assets/mats/engineering2.jpg")},{name:"\u041f\u0430\u0442\u0440\u0438\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 (3)",imgPath:"".concat(".","/assets/mats/patriotic3.jpg")},{name:"\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 (4)",imgPath:"".concat(".","/assets/mats/mechanical4.jpg")},{name:"\u0424\u0435\u0440\u043c\u0435\u0440\u0441\u043a\u0438\u0439 (5)",imgPath:"".concat(".","/assets/mats/argicultural5.jpg")}],Kt=[{name:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c",imgPath:"".concat(".","/assets/icons/resources/popularity.png")},{name:"\u0417\u0432\u0435\u0437\u0434",imgPath:"".concat(".","/assets/icons/resources/stars.png")},{name:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439",imgPath:"".concat(".","/assets/icons/resources/territories.png")},{name:"\u0420\u0435\u0441\u0443\u0440\u0441\u043e\u0432",imgPath:"".concat(".","/assets/icons/resources/resources.png")},{name:"\u0411\u043e\u043d\u0443\u0441\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439",imgPath:"".concat(".","/assets/icons/resources/structureBonus.png")},{name:"\u041c\u043e\u043d\u0435\u0442",imgPath:"".concat(".","/assets/icons/resources/gold.png")}];function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(A.a)(Jt,"name");return t[e].slug?t[e].slug:""}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(A.a)(Jt,"name");return t[e].shortName?t[e].shortName:""}function Qt(e){return e.length<=0?"":$t(e[e.length-1].faction)}function Xt(e){var t=e[e.length-1],n=$(Mt.index.path);return"".concat(n).concat($t(t.faction))}function Yt(e,t){var n=e.map((function(e){return $t(e.faction)})).findIndex((function(e){return e===t}));return n<=0?0:n}var Zt=function(){var e=Object(f.g)(),t=Object(l.d)((function(e){return Object.values(e.players)})),n=Object(l.d)(Qe);return Object(a.jsxs)(k.a,{className:"menu-footer",value:e.location.pathname,showLabels:!0,children:[Object(a.jsx)(W.a,{icon:Object(a.jsx)(T.a,{}),component:y.a,label:"\u0418\u0433\u0440\u043e\u043a\u0438",value:e.location.pathname.includes($(Mt.index.path))?e.location.pathname:null,to:"".concat($(Mt.index.path)).concat(Qt(t))}),Object(a.jsx)(W.a,{disabled:!t.length,icon:Object(a.jsx)(C.a,{}),component:y.a,label:"\u041e\u0447\u043a\u0438",value:e.location.pathname.includes($(Mt.score.path))?e.location.pathname:null,to:"".concat($(Mt.score.path)).concat($t(null===n||void 0===n?void 0:n.faction))}),Object(a.jsx)(W.a,{disabled:!t.length,icon:Object(a.jsx)(S.a,{}),component:y.a,label:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",value:Mt.result.path,to:Mt.result.path})]})},_t=Object(w.a)({fixed:{"@media (min-width: 600px)":{maxWidth:768},"@media (min-width: 960px)":{maxWidth:960},"@media (min-width: 1280px)":{maxWidth:1280}},main:{height:"100%"}}),en=function(e){var t=e.className,n=_t();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P.a,{fixed:!0,className:n.fixed,children:Object(a.jsx)("main",{className:Object(N.a)(n.main,t),children:e.children})}),Object(a.jsx)(Zt,{})]})},tn=function(){return Object(a.jsxs)(en,{children:[Object(a.jsx)(g.a,{variant:"h1",align:"center",children:"404?!"}),Object(a.jsx)(v.a,{component:y.a,to:"/",variant:"outlined",color:"primary",fullWidth:!0,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},nn=Object(j.a)({palette:{type:"dark",secondary:m.a,primary:{main:"#FFB74D",light:"rgb(255, 197, 112)",dark:"rgb(200, 147, 89)",contrastText:"rgba(0, 0, 0, 0.87)"},error:{main:m.a.A400}}}),an=function(){return Object(a.jsxs)(p.a,{theme:nn,children:[Object(a.jsx)(b.a,{}),Object(a.jsx)(f.c,{history:x,children:Object(a.jsxs)(f.d,{children:[Object.values(Mt).map((function(e){return Object(a.jsx)(f.b,Object(d.a)({},e),e.path)})),Object(a.jsx)(f.b,{component:tn})]})})]})},rn=n(60),cn=n(220),on=n.n(cn),sn=n(30),ln=Object(sn.c)({players:ne,names:at}),un={key:"root",version:2,storage:on.a},dn=Object(rn.g)(un,ln),jn=Object(U.a)({reducer:dn,middleware:Object(U.c)({serializableCheck:{ignoredActions:[rn.a,rn.f,rn.b,rn.c,rn.d,rn.e]}})}),bn=Object(rn.h)(jn),hn=jn,mn=(n(381),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function pn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(a.jsx)(l.a,{store:hn,children:Object(a.jsx)(u.a,{loading:null,persistor:bn,children:Object(a.jsx)(i.b,{injectFirst:!0,children:Object(a.jsx)(an,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");mn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):pn(t,e)}))}}()}},[[382,1,2]]]);
//# sourceMappingURL=main.24fad718.chunk.js.map