(this["webpackJsonpscythe-score-calculator"]=this["webpackJsonpscythe-score-calculator"]||[]).push([[0],{344:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(413),c=n(0),r=n.n(c),o=n(14),s=n.n(o),l=n(15),u=n(183),d=n(10),j=n(18),b=n(36),p=Object(b.b)({basename:"/"}),m=n(216),h=n(389),O=n(26),f=n(387),x=n(385),v=n(382),g=n(4),y=n(410),P=n(411),N=n(133),z=n.n(N),B=n(209),k=n.n(B),w=n(208),C=n.n(w),W=n(20),I=n(156),S=n(215),A=n(388),E=n(21),F=n.n(E),T=n(44),V=n(31),R=n(54),q=n(211),M=n(213),L=n(9);function H(e){for(var t=Object(L.a)(e),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),i=t[n];t[n]=t[a],t[a]=i}return t}function J(e){return e.replace(":id?/","").replace(":id","")}var K=Object(R.b)({name:"players",initialState:{},reducers:{createPlayer:{reducer:function(e,t){if(!(Object.values(e).length>=Tt)){var n=Object.values(e).map((function(e){return e.faction})),a=Object.values(e).map((function(e){return e.mat})),i=H(Rt).filter((function(e){return!n.includes(e.name)})),c=H(qt).filter((function(e){return!a.includes(e.name)})),r=i[0].name,o=c[0].name,s={id:t.payload.id,name:"Player "+(Object.values(e).length+1),faction:r,mat:o,gold:0,popularity:0,stars:0,territories:0,resources:0,buildingBonuses:0,points:0};e[s.id]=s}},prepare:function(){return{payload:{id:Object(M.a)()}}}},editPlayer:function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(V.a)({},t.payload.id,t.payload))},removePlayer:function(e,t){return Object(q.a)(e,t.payload)},deletePlayers:function(){return{}}}}),D=K.actions,G=D.createPlayer,Q=D.editPlayer,U=D.removePlayer,X=D.deletePlayers,Y=function(e,t,n){return function(a,i){var c=function(e){var t=0;e.popularity>=0&&e.popularity<=6?t=3*e.stars+2*e.territories+Math.floor(e.resources/2)+e.buildingBonuses+e.gold:e.popularity>=7&&e.popularity<=12?t=4*e.stars+3*e.territories+2*Math.floor(e.resources/2)+e.buildingBonuses+e.gold:e.popularity>=13&&e.popularity<=18&&(t=5*e.stars+4*e.territories+3*Math.floor(e.resources/2)+e.buildingBonuses+e.gold);return t}(t);a(Q(Object(d.a)(Object(d.a)(Object(d.a)({},e),t),{},{points:c}))),Object.values(i().players).every((function(e){return e.points>0}))?p.push(Ft.result.path):p.push("".concat(J(Ft.score.path)).concat(Lt(n.faction)))}},Z=function(){return function(){var e=Object(T.a)(F.a.mark((function e(t,n){var a,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(G()),a=Object.values(n().players),i=Kt(a),p.push(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},$=K.reducer,_=n.p+"static/media/bg.3716f9d7.jpg",ee=n.p+"static/media/logo.dd1ac0f7.png",te=Object(v.a)({container:{height:"100vh"},paperContainer:{backgroundColor:"#acacac",backgroundImage:"url(".concat(_,")"),height:"100vh",backgroundPosition:"top center",backgroundSize:"cover"},logo:{marginTop:20,width:120,height:120},title:{fontWeight:"bold",fontSize:21},btnAddPlayer:{marginTop:"auto",marginBottom:50}}),ne=function(){var e=Object(l.c)(),t=te();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{}),Object(a.jsx)(S.a,{className:t.paperContainer,elevation:0,children:Object(a.jsx)(f.a,{fixed:!0,children:Object(a.jsxs)(A.a,{className:t.container,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)("img",{className:t.logo,src:ee,alt:"logo"})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(m.a,{align:"center",className:t.title,children:"Scythe Score Calculator"})}),Object(a.jsx)(A.a,{className:t.btnAddPlayer,item:!0,children:Object(a.jsx)(h.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return e(Z())},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"})})]})})})]})},ae=n(391),ie=n(392),ce=n(414),re=n(393),oe=n(390),se=n(190),le=n.n(se),ue=n(189),de=n.n(ue),je=function(e){var t=e.name,n=e.iconPath;return n?Object(a.jsx)("img",{height:35,src:n,alt:t}):null},be=function(e){var t=e.player;return Object(a.jsx)(oe.a,{invisible:t.points<=0,overlap:"circle",color:"default",badgeContent:Object(a.jsx)(de.a,{style:{fontSize:16,color:le.a[400]}}),children:Object(a.jsx)(je,{name:t.faction,iconPath:function(e){var t;return null===(t=Rt.find((function(t){return t.name===e.faction})))||void 0===t?void 0:t.iconPath}(t)})})},pe=Object(v.a)({toolbar:{padding:"3px 6px",fontSize:"12px",fontWeight:300,textTransform:"initial",opacity:.4,minHeight:65}}),me=function(e){var t=e.players,n=pe(),i=Object(j.g)(),c=Object(j.i)(Ft.index.path),r=Object(j.i)(Ft.score.path),o=(null===c||void 0===c?void 0:c.path)||(null===r||void 0===r?void 0:r.path)||"",s=function(e){var t;return null===(t=Rt.find((function(t){return t.name===e.faction})))||void 0===t?void 0:t.shortName};return Object(a.jsx)(ae.a,{position:"fixed",color:"primary",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(ie.a,{children:t.length?Object(a.jsx)(ce.a,{variant:"scrollable",scrollButtons:"auto",indicatorColor:"secondary",value:i.location.pathname,children:t.map((function(e){return Object(a.jsx)(re.a,{className:n.toolbar+" faction-tab",icon:Object(a.jsx)(be,{player:e}),label:s(e),component:O.a,value:"".concat(J(o)).concat(Lt(e.faction)),to:"".concat(J(o)).concat(Lt(e.faction))},e.faction)}))}):null})})})},he=n(30),Oe=n(398),fe=n(399),xe=n(417),ve=n(400),ge=n(397),ye=n(401),Pe=n(416),Ne=n(412),ze=n(194),Be=n.n(ze),ke=n(212),we=n(394),Ce=Object(v.a)({media:{objectPosition:"50% 25%"}}),We=function(e){var t=e.name,n=void 0===t?"":t,i=e.characterPath,c=void 0===i?"":i,r=Ce();return Object(a.jsx)(we.a,{component:"img",height:"140",className:r.media,image:c,alt:n,title:n})},Ie=n(193),Se=n.n(Ie),Ae=n(395),Ee=n(415),Fe=n(119),Te=n(191),Ve=n.n(Te),Re=function(e){return Object.values(e.players)},qe=Object(Fe.a)([Re],(function(e){var t,n=Object(W.a)(qt);try{var a=function(){var n=t.value,a=e.find((function(e){return e.mat===n.name}));if(a)return{v:a}};for(n.s();!(t=n.n()).done;){var i=a();if("object"===typeof i)return i.v}}catch(c){n.e(c)}finally{n.f()}return null})),Me=Object(Fe.a)([Re,qe],(function(e,t){var n=Vt.indexOf(null===t||void 0===t?void 0:t.faction),a=[];if(-1!==n){var i=Vt.map((function(e,t){return Ve.a.nth(Vt,n-t)})).filter((function(t){return e.find((function(e){return e.faction===t}))})),c=i.slice(0,1),r=i.slice(1,i.length).reverse();a=[].concat(Object(L.a)(c),Object(L.a)(r))}return a.map((function(t){return e.find((function(e){return e.faction===t}))}))})),Le=function(e){return Object(Fe.a)([Re],(function(t){return t.find((function(t){return Lt(t.faction)===e}))}))},He=Object(R.b)({name:"names",initialState:[],reducers:{addName:function(e,t){e.push(t.payload)},deleteName:function(e,t){return e.filter((function(e){return e.name!==t.payload}))},changeName:function(e,t){return e.map((function(e){return e.name===t.payload?Object(d.a)(Object(d.a)({},e),{},{name:t.payload}):e}))}}}),Je=He.actions,Ke=Je.addName,De=Je.deleteName,Ge=Je.changeName,Qe=He.reducer,Ue=function(e){return e.names},Xe=Object(Ae.a)();function Ye(){var e=Object(j.h)().id,t=Object(l.d)(Ue),n=Object(l.c)(),i=Object(l.d)(Le(e)),c=function(e){n(Ke(e)),(null===i||void 0===i?void 0:i.id)&&n(Q(Object(d.a)(Object(d.a)({},i),{},{name:e.name})))};return Object(a.jsx)(Ee.a,{value:{name:(null===i||void 0===i?void 0:i.name)||"Player"},onChange:function(e,t){if("string"===typeof t)c({name:t});else if(t&&t.inputValue)c({name:t.inputValue});else if(t){if((null===i||void 0===i?void 0:i.name)===t.name)return;a={name:t.name},n(Ge(a.name)),(null===i||void 0===i?void 0:i.id)&&n(Q(Object(d.a)(Object(d.a)({},i),{},{name:a.name})))}var a},filterOptions:function(e,n){var a=Xe(e,n),c=""!==n.inputValue,r=n.inputValue!==(null===i||void 0===i?void 0:i.name),o=-1===t.findIndex((function(e){return e.name===n.inputValue}));return c&&r&&o&&a.push({inputValue:n.inputValue,name:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "'.concat(n.inputValue,'"')}),a},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:t,getOptionLabel:function(e){return"string"===typeof e?e:(null===e||void 0===e?void 0:e.inputValue)?e.inputValue:null===e||void 0===e?void 0:e.name},renderOption:function(e){return e.inputValue?e.name:Object(a.jsxs)("div",{style:{display:"flex",width:"100%",height:30,justifyContent:"space-between",alignItems:"center"},children:[Object(a.jsx)("p",{children:e.name}),Object(a.jsx)(ge.a,{"aria-label":"delete",onClick:function(t){return function(e,t){n(De(t)),e.stopPropagation()}(t,e.name)},children:Object(a.jsx)(Se.a,{fontSize:"small"})})]})},freeSolo:!0,renderInput:function(e){return Object(a.jsx)(Ne.a,Object(d.a)(Object(d.a)({},e),{},{label:"\u0418\u043c\u044f",variant:"outlined",size:"medium",fullWidth:!0}))}})}var Ze=Object(v.a)((function(e){return Object(Pe.a)({root:{maxWidth:345},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},cardActions:{paddingBottom:0,paddingTop:0},cardContent:{paddingTop:0},expandOpen:{transform:"rotate(180deg)"},slider:{overflow:"auto",maxWidth:1200,margin:"0 auto"},sliderBody:{overflow:"auto",width:"100%",height:350,textAlign:"center"},sliderImage:{width:"auto",height:345}})})),$e=function(){var e,t=Object(j.h)().id,n=void 0===t?"":t,i=Object(ke.a)(),c=Ze(),o=r.a.useState(!1),s=Object(he.a)(o,2),u=s[0],b=s[1],m=Object(l.d)((function(e){return e.players})),O=Object(l.d)((function(e){return Object.values(e.players).find((function(e){return Lt(e.faction)===n}))})),f=Object(l.c)();if(!O)return null;var x=function(e,t){var n=e.target.value,a=m[t].faction,i=Object.values(m).find((function(e){return e.faction===n}));if(i){var c=Object(d.a)(Object(d.a)({},m[i.id]),{},{faction:a});f(Q(c))}var r=Object(d.a)(Object(d.a)({},m[t]),{},{faction:n});f(function(e){return function(t){t(Q(e)),p.push("".concat(J(Ft.index.path)).concat(Lt(e.faction)))}}(r))};return Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(We,Object(d.a)({},Rt.find((function(e){return e.name===O.faction})))),Object(a.jsx)(fe.a,{children:Object(a.jsxs)(A.a,{container:!0,spacing:2,direction:"row",children:[Object(a.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Ye,{})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(Ne.a,{select:!0,SelectProps:{renderValue:function(e){var t=Rt.find((function(t){return t.name===e}));return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t&&Object(a.jsx)(je,Object(d.a)({},t))})}},label:"\u0424\u0440\u0430\u043a\u0446\u0438\u044f",value:O.faction,onChange:function(e){return x(e,O.id)},variant:"outlined",size:"small",children:Rt.map((function(e){return Object(a.jsxs)(xe.a,{value:e.name,children:[Object(a.jsx)(je,Object(d.a)({},e)),"\xa0\xa0\xa0",e.name]},e.name)}))})}),Object(a.jsx)(A.a,{item:!0,xs:!0,children:Object(a.jsx)(Ne.a,{select:!0,label:"\u041f\u043b\u0430\u043d\u0448\u0435\u0442",value:O.mat,onChange:function(e){return function(e,t){var n=e.target.value,a=m[t].mat,i=Object.values(m).find((function(e){return e.mat===n}));if(i){var c=Object(d.a)(Object(d.a)({},m[i.id]),{},{mat:a});f(Q(c))}var r=Object(d.a)(Object(d.a)({},m[t]),{},{mat:n});f(Q(r))}(e,O.id)},variant:"outlined",size:"medium",fullWidth:!0,children:qt.map((function(e){return Object(a.jsx)(xe.a,{value:e.name,children:e.name},e.name)}))})})]})}),Object(a.jsxs)(ve.a,{disableSpacing:!0,className:c.cardActions,children:[Object(a.jsx)(h.a,{color:"secondary",size:"medium",onClick:function(){f(function(e){return function(t){t(U(e)),p.push(J(Ft.index.path))}}(O.id))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(a.jsx)(ge.a,{className:Object(g.a)(c.expand,Object(V.a)({},c.expandOpen,u)),onClick:function(){b(!u)},"aria-expanded":u,"aria-label":"show mat",children:Object(a.jsx)(Be.a,{})})]}),Object(a.jsx)(ye.a,{in:u,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(fe.a,{className:c.cardContent,children:Object(a.jsx)("div",{className:c.slider,style:{width:i-65},children:Object(a.jsx)("div",{className:c.sliderBody,children:Object(a.jsx)("img",{className:c.sliderImage,src:"".concat(null===(e=qt.find((function(e){return e.name===O.mat})))||void 0===e?void 0:e.imgPath),alt:O.mat})})})})})]})},_e=Object(l.b)((function(e){return{players:Object.values(e.players)}}),{addPlayer:Z,editPlayer:Q,deleteAllPlayers:function(){return function(e){e(X()),p.push("/")}}})((function(e){var t=e.players,n=e.deleteAllPlayers,i=e.addPlayer,c=Object(j.h)().id,r=void 0===c?"":c,o=function(e,t){return e.find((function(e){return Lt(e.faction)===t}))}(t,r);return!r&&t.length?Object(a.jsx)(j.a,{to:Kt(t)}):t.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(me,{players:t}),Object(a.jsx)(Ut,{children:Object(a.jsxs)(A.a,{container:!0,direction:"column",spacing:2,justify:"center",children:[o&&Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)($e,{})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(h.a,{variant:"contained",disabled:t.length>=Tt,color:"secondary",fullWidth:!0,onClick:i,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(h.a,{variant:"contained",disabled:!o,color:"primary",fullWidth:!0,onClick:function(){n()},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"})}),Object(a.jsxs)(A.a,{item:!0,children:[" ",Object(a.jsx)("br",{})," "]})]})})]}):Object(a.jsx)(j.a,{to:"/"})})),et=n(402),tt=n(403),nt=n(404),at=n(405),it=n(406),ct=n(407),rt=n(195),ot=Object(v.a)({table:{minWidth:320},sticky:{position:"sticky",background:"#fff",left:0,zIndex:1}}),st=Object(l.b)((function(e){return{players:e.players}}),{deletePlayers:X,editPlayer:Q})((function(e){var t=Object(j.g)(),n=ot(),i=e.players,c=e.deletePlayers,r=e.editPlayer,o=Object(L.a)(Object.values(i)).sort((function(e,t){return t.points-e.points})).map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{gameEndPosition:t+1})})),s=Object(d.a)({},Object(rt.a)(o,"id"));return Object(a.jsxs)(Ut,{className:"result-page",children:[Object(a.jsx)(et.a,{component:S.a,children:Object(a.jsxs)(tt.a,{className:n.table,size:"small",children:[Object(a.jsx)(nt.a,{children:Object(a.jsxs)(at.a,{children:[Object(a.jsx)(it.a,{align:"center",size:"small",children:"\u2116"}),Object(a.jsx)(it.a,{className:n.sticky,children:"\u0418\u0433\u0440\u043e\u043a"}),Mt.map((function(e){return Object(a.jsx)(it.a,{align:"center",children:Object(a.jsx)("img",{width:30,height:30,src:e.imgPath,alt:e.name})})})),Object(a.jsx)(it.a,{align:"center",children:"\u0412\u0441\u0435\u0433\u043e"})]})}),Object(a.jsx)(ct.a,{children:Object.values(s).map((function(e){return Object(a.jsxs)(at.a,{children:[Object(a.jsx)(it.a,{align:"center",children:e.gameEndPosition}),Object(a.jsxs)(it.a,{className:n.sticky,component:"th",scope:"player",size:"small",children:[e.name,Object(a.jsx)("br",{}),Ht(e.faction),Object(a.jsx)("br",{}),e.mat]}),Object(a.jsx)(it.a,{size:"small",align:"center",children:e.popularity}),Object(a.jsx)(it.a,{size:"small",align:"center",children:e.stars}),Object(a.jsx)(it.a,{size:"small",align:"center",children:e.territories}),Object(a.jsx)(it.a,{size:"small",align:"center",children:e.resources}),Object(a.jsx)(it.a,{size:"small",align:"center",children:e.buildingBonuses}),Object(a.jsx)(it.a,{size:"small",align:"center",children:e.gold}),Object(a.jsx)(it.a,{size:"small",align:"center",children:e.points})]},e.name)}))})]})}),Object(a.jsx)("br",{}),Object(a.jsx)(h.a,{variant:"contained",color:"secondary",onClick:function(){Object(L.a)(Object.values(i)).sort((function(e,t){return t.points-e.points})).forEach((function(e,t){return r(Object(d.a)(Object(d.a)({},e),{},{gameEndPosition:t+1}))})),c(),setTimeout((function(){t.push("/")}),100)},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"})]})})),lt=n(205),ut=n.n(lt),dt=n(206),jt=n.n(dt),bt=n(199),pt=n(408),mt=n(201),ht=n.n(mt),Ot=n(204),ft=n.n(Ot),xt=n(200),vt=n.n(xt),gt=n(202),yt=n.n(gt),Pt=n(203),Nt=n.n(Pt),zt=n(151),Bt=n(71),kt="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c",wt=function(e){return"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e)},Ct=Bt.b().shape({gold:Bt.a().required().min(0,kt).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0435\u0442\u044b"),popularity:Bt.a().required().min(0,kt).max(18,wt(18)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u0443\u044e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c"),stars:Bt.a().required().min(0,kt).max(6,wt(6)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u044b"),territories:Bt.a().required().min(0,kt).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439"),resources:Bt.a().required().min(0,kt).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432"),buildingBonuses:Bt.a().required().min(0,kt).max(9,wt(9)).integer().typeError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043c\u043e\u043d\u0435\u0442 \u0437\u0430 \u0431\u043e\u043d\u0443\u0441 \u0437\u0434\u0430\u043d\u0438\u0439")}),Wt=function(){var e,t,n,i,r,o,s=Object(j.h)().id,u=Object(l.d)(Me),d=Object(l.d)(Le(s)),b=Object(l.c)(),p=Dt(u,d).nextPlayer,O=Object(zt.useForm)({defaultValues:{gold:null===d||void 0===d?void 0:d.gold,popularity:null===d||void 0===d?void 0:d.popularity,stars:null===d||void 0===d?void 0:d.stars,territories:null===d||void 0===d?void 0:d.territories,resources:null===d||void 0===d?void 0:d.resources,buildingBonuses:null===d||void 0===d?void 0:d.buildingBonuses},mode:"onSubmit",resolver:Object(bt.yupResolver)(Ct)}),f=O.register,x=O.handleSubmit,v=O.errors,g=O.reset;Object(c.useEffect)((function(){(null===d||void 0===d?void 0:d.gold)||(null===d||void 0===d?void 0:d.popularity)||(null===d||void 0===d?void 0:d.stars)||(null===d||void 0===d?void 0:d.territories)||(null===d||void 0===d?void 0:d.resources)||(null===d||void 0===d?void 0:d.buildingBonuses)?g(d):g({gold:void 0,popularity:void 0,stars:void 0,territories:void 0,resources:void 0,buildingBonuses:void 0})}),[g,d]);var y=Object(c.useRef)();Object(c.useEffect)((function(){y.current&&(f(y.current),y.current.focus())}),[p.id]);var P=function(e){e.target.select()};return Object(a.jsx)("form",{onSubmit:x((function(e){d&&b(Y(d,e,p))})),autoComplete:"off",children:Object(a.jsxs)(A.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(Ne.a,{error:!!v.gold,helperText:null===v||void 0===v||null===(e=v.gold)||void 0===e?void 0:e.message,inputRef:function(e){f(e),y.current=e},id:"gold",name:"gold",fullWidth:!0,variant:"outlined",size:"small",label:"\u041c\u043e\u043d\u0435\u0442\u044b \u043d\u0430 \u0440\u0443\u043a\u0430\u0445",type:"number",onFocus:P,InputProps:{startAdornment:Object(a.jsx)(pt.a,{position:"start",children:Object(a.jsx)(vt.a,{})})}})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(Ne.a,{error:!!v.popularity,helperText:null===v||void 0===v||null===(t=v.popularity)||void 0===t?void 0:t.message,inputRef:f,id:"popularity",name:"popularity",fullWidth:!0,variant:"outlined",size:"small",label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c",type:"number",onFocus:P,InputProps:{startAdornment:Object(a.jsx)(pt.a,{position:"start",children:Object(a.jsx)(ht.a,{})})}})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(Ne.a,{error:!!v.stars,helperText:null===v||void 0===v||null===(n=v.stars)||void 0===n?void 0:n.message,inputRef:f,id:"stars",name:"stars",fullWidth:!0,variant:"outlined",size:"small",label:"\u041a\u043e\u043b-\u0432\u043e \u0437\u0432\u0435\u0437\u0434",type:"number",onFocus:P,InputProps:{startAdornment:Object(a.jsx)(pt.a,{position:"start",children:Object(a.jsx)(yt.a,{})})}})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(Ne.a,{error:!!v.territories,helperText:null===v||void 0===v||null===(i=v.territories)||void 0===i?void 0:i.message,inputRef:f,id:"territories",name:"territories",fullWidth:!0,variant:"outlined",size:"small",label:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439 (\u0444\u0430\u0431\u0440\u0438\u043a\u0430 \u0434\u0430\u0435\u0442 +3)",type:"number",onFocus:P,InputProps:{startAdornment:Object(a.jsx)(pt.a,{position:"start",children:Object(a.jsx)(Nt.a,{})})}})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(Ne.a,{error:!!v.resources,helperText:null===v||void 0===v||null===(r=v.resources)||void 0===r?void 0:r.message,inputRef:f,id:"resources",name:"resources",fullWidth:!0,variant:"outlined",size:"small",label:"\u0412\u0441\u0435\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 (\u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0435\u0441\u0443\u0440\u0441)",type:"number",onFocus:P,InputProps:{startAdornment:Object(a.jsx)(pt.a,{position:"start",children:Object(a.jsx)(z.a,{})})}})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(Ne.a,{error:!!v.buildingBonuses,helperText:null===v||void 0===v||null===(o=v.buildingBonuses)||void 0===o?void 0:o.message,inputRef:f,id:"buildingBonuses",name:"buildingBonuses",fullWidth:!0,variant:"outlined",size:"small",label:"\u0411\u043e\u043d\u0443\u0441\u044b \u0437\u0434\u0430\u043d\u0438\u0439",type:"number",onFocus:P,InputProps:{startAdornment:Object(a.jsx)(pt.a,{position:"start",children:Object(a.jsx)(ft.a,{})})}})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsxs)(A.a,{container:!0,alignItems:"center",justify:"space-between",spacing:2,children:[Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(h.a,{type:"submit",color:"primary",variant:"contained",children:"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})}),Object(a.jsx)(A.a,{item:!0,children:(null===d||void 0===d?void 0:d.points)?Object(a.jsxs)(m.a,{variant:"h6",children:["\u041e\u0447\u043a\u043e\u0432: ",null===d||void 0===d?void 0:d.points]}):null})]})})]})})},It=function(){var e=Object(j.h)().id,t=Object(l.d)(Me),n=Object(l.d)(Le(e)),i=Dt(t,n),c=i.prevPlayer,r=i.nextPlayer,o=Lt(c.faction),s=Lt(r.faction);return n&&t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(me,{players:t}),Object(a.jsx)(Ut,{children:Object(a.jsxs)(A.a,{container:!0,direction:"column",spacing:2,children:[Object(a.jsx)(A.a,{item:!0,children:Object(a.jsxs)(A.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(A.a,{item:!0,xs:8,sm:10,children:Object(a.jsxs)(m.a,{variant:"h5",children:["\u0418\u0433\u0440\u043e\u043a: ",n.name]})}),Object(a.jsx)(A.a,{item:!0,xs:2,sm:1,style:{textAlign:"end"},children:Object(a.jsx)(ge.a,{disabled:!Boolean(o),component:O.a,to:"/score/".concat(o),color:"inherit",children:Object(a.jsx)(ut.a,{})})}),Object(a.jsx)(A.a,{item:!0,xs:2,sm:1,style:{textAlign:"end"},children:Object(a.jsx)(ge.a,{edge:"end",disabled:!Boolean(s),component:O.a,to:"/score/".concat(s),color:"inherit",children:Object(a.jsx)(jt.a,{})})})]})}),Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(Wt,{})})]})})]}):Object(a.jsx)(Xt,{})},St=n(409),At=n(207),Et=n.n(At),Ft={first:{path:"/",title:"",exact:!0,component:ne},index:{path:"/faction/:id?/",title:"\u0424\u0440\u0430\u043a\u0446\u0438\u0438",exact:!1,component:_e},score:{path:"/score/:id?/",title:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0447\u043a\u043e\u0432",exact:!0,component:It},result:{path:"/result",title:"\u0418\u0442\u043e\u0433\u0438 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0438\u0433\u0440\u044b",exact:!0,component:st},map:{path:"/map",title:"\u041a\u0430\u0440\u0442\u0430",exact:!0,component:Xt},settings:{path:"/settings",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",exact:!0,component:function(e){return Object(a.jsx)(Ut,{children:Object(a.jsx)(A.a,{container:!0,children:Object(a.jsx)(A.a,{item:!0,children:Object(a.jsx)(St.a,{rel:"noopener",href:"https://github.com/justbenya/scythe-app",children:Object(a.jsx)(Et.a,{fontSize:"large",style:{color:"#fff"}})})})})})}}},Tt=5,Vt=["\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041f\u043e\u043b\u044f\u043d\u0438\u044f","\u0421\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u043e","\u0420\u0443\u0441\u0441\u0432\u0435\u0442\u0441\u043a\u0438\u0439 \u0441\u043e\u044e\u0437","\u041a\u0440\u044b\u043c\u0441\u043a\u043e\u0435 \u0445\u0430\u043d\u0441\u0442\u0432\u043e","\u0421\u0430\u043a\u0441\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u043c\u043f\u0435\u0440\u0438\u044f"],Rt=[{name:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041f\u043e\u043b\u044f\u043d\u0438\u044f",shortName:"\u041f\u043e\u043b\u044f\u043d\u0438\u044f",slug:"polania",characterPath:"".concat("/scythe-app","/assets/factions/polania.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/factions/polania.png")},{name:"\u0421\u0430\u043a\u0441\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u043c\u043f\u0435\u0440\u0438\u044f",shortName:"\u0421\u0430\u043a\u0441\u043e\u043d\u0438\u044f",slug:"saxony",characterPath:"".concat("/scythe-app","/assets/factions/saxony.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/factions/saxony.png")},{name:"\u041a\u0440\u044b\u043c\u0441\u043a\u043e\u0435 \u0445\u0430\u043d\u0441\u0442\u0432\u043e",shortName:"\u041a\u0440\u044b\u043c",slug:"crimean",characterPath:"".concat("/scythe-app","/assets/factions/crimean.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/factions/crimean.png")},{name:"\u0421\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u043e",shortName:"\u0421\u0435\u0432\u0435\u0440",slug:"nordic",characterPath:"".concat("/scythe-app","/assets/factions/nordic.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/factions/nordic.png")},{name:"\u0420\u0443\u0441\u0441\u0432\u0435\u0442\u0441\u043a\u0438\u0439 \u0441\u043e\u044e\u0437",shortName:"\u0420\u0443\u0441\u0441\u0432\u0435\u0442",slug:"rusvet",characterPath:"".concat("/scythe-app","/assets/factions/rusvet.jpg"),iconPath:"".concat("/scythe-app","/assets/icons/factions/rusvet.png")}],qt=[{name:"\u041f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0439 (1)",imgPath:"".concat("/scythe-app","/assets/mats/industrial1.jpg")},{name:"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 (2)",imgPath:"".concat("/scythe-app","/assets/mats/engineering2.jpg")},{name:"\u041f\u0430\u0442\u0440\u0438\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 (3)",imgPath:"".concat("/scythe-app","/assets/mats/patriotic3.jpg")},{name:"\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 (4)",imgPath:"".concat("/scythe-app","/assets/mats/mechanical4.jpg")},{name:"\u0424\u0435\u0440\u043c\u0435\u0440\u0441\u043a\u0438\u0439 (5)",imgPath:"".concat("/scythe-app","/assets/mats/argicultural5.jpg")}],Mt=[{name:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c",imgPath:"".concat("/scythe-app","/assets/icons/resources/popularity.png")},{name:"\u0417\u0432\u0435\u0437\u0434",imgPath:"".concat("/scythe-app","/assets/icons/resources/stars.png")},{name:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439",imgPath:"".concat("/scythe-app","/assets/icons/resources/territories.png")},{name:"\u0420\u0435\u0441\u0443\u0440\u0441\u043e\u0432",imgPath:"".concat("/scythe-app","/assets/icons/resources/resources.png")},{name:"\u0411\u043e\u043d\u0443\u0441\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439",imgPath:"".concat("/scythe-app","/assets/icons/resources/structureBonus.png")},{name:"\u041c\u043e\u043d\u0435\u0442",imgPath:"".concat("/scythe-app","/assets/icons/resources/gold.png")}];function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(I.a)(Rt,"name");return t[e].slug?t[e].slug:""}function Ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(I.a)(Rt,"name");return t[e].shortName?t[e].shortName:""}function Jt(e){return e.length<=0?"":Lt(e[e.length-1].faction)}function Kt(e){var t=e[e.length-1],n=J(Ft.index.path);return"".concat(n).concat(Lt(t.faction))}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.findIndex((function(e){return e.id===t.id})),a=e[e.length-1],i=e[0],c=n>=0&&e[n-1]?e[n-1]:a,r=n>=0&&e[n+1]?e[n+1]:i;return{prevPlayer:c,nextPlayer:r}}var Gt=function(){var e=Object(j.g)(),t=Object(l.d)((function(e){return Object.values(e.players)})),n=Object(l.d)(qe);return Object(a.jsxs)(y.a,{className:"menu-footer",value:e.location.pathname,showLabels:!0,children:[Object(a.jsx)(P.a,{icon:Object(a.jsx)(C.a,{}),component:O.a,label:"\u0418\u0433\u0440\u043e\u043a\u0438",value:e.location.pathname.includes(J(Ft.index.path))?e.location.pathname:null,to:"".concat(J(Ft.index.path)).concat(Jt(t))}),Object(a.jsx)(P.a,{disabled:!t.length,icon:Object(a.jsx)(z.a,{}),component:O.a,label:"\u041e\u0447\u043a\u0438",value:e.location.pathname.includes(J(Ft.score.path))?e.location.pathname:null,to:"".concat(J(Ft.score.path)).concat(Lt(null===n||void 0===n?void 0:n.faction))}),Object(a.jsx)(P.a,{disabled:!t.length,icon:Object(a.jsx)(k.a,{}),component:O.a,label:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",value:Ft.result.path,to:Ft.result.path})]})},Qt=Object(v.a)({fixed:{"@media (min-width: 600px)":{maxWidth:768},"@media (min-width: 960px)":{maxWidth:960},"@media (min-width: 1280px)":{maxWidth:1280}},main:{height:"100%",paddingTop:80,paddingBottom:80}}),Ut=function(e){var t=e.className,n=Qt();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{}),Object(a.jsx)(f.a,{fixed:!0,className:n.fixed,children:Object(a.jsx)("main",{className:Object(g.a)(n.main,t),children:e.children})}),Object(a.jsx)(Gt,{})]})},Xt=function(){return Object(a.jsxs)(Ut,{children:[Object(a.jsx)(m.a,{variant:"h1",align:"center",children:"404?!"}),Object(a.jsx)(h.a,{component:O.a,to:"/",variant:"outlined",color:"primary",fullWidth:!0,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},Yt=function(){return Object(a.jsx)(j.c,{history:p,children:Object(a.jsxs)(j.d,{children:[Object.values(Ft).map((function(e){return Object(a.jsx)(j.b,Object(d.a)({},e),e.path)})),Object(a.jsx)(j.b,{component:Xt})]})})},Zt=n(58),$t=n(210),_t=n.n($t),en=n(29),tn=Object(en.c)({players:$,names:Qe}),nn={key:"root",version:2,storage:_t.a},an=Object(Zt.g)(nn,tn),cn=Object(R.a)({reducer:an,middleware:Object(R.c)({serializableCheck:{ignoredActions:[Zt.a,Zt.f,Zt.b,Zt.c,Zt.d,Zt.e]}})}),rn=Object(Zt.h)(cn),on=cn;n(344);s.a.render(Object(a.jsx)(l.a,{store:on,children:Object(a.jsx)(u.a,{loading:null,persistor:rn,children:Object(a.jsx)(i.b,{injectFirst:!0,children:Object(a.jsx)(Yt,{})})})}),document.getElementById("root"))}},[[345,1,2]]]);
//# sourceMappingURL=main.65352102.chunk.js.map